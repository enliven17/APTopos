(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([typeof document === "object" ? document.currentScript : undefined, {

"[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@aptos-connect/wallet-api/dist/index.mjs [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
// src/base64.ts
__turbopack_context__.s({
    "ConnectRequest": (()=>ConnectRequest),
    "ConnectResponse": (()=>ConnectResponse),
    "DisconnectRequest": (()=>DisconnectRequest),
    "DisconnectResponse": (()=>DisconnectResponse),
    "EntryFunctionArgumentVariant": (()=>EntryFunctionArgumentVariant),
    "GetConnectedAccountsRequest": (()=>GetConnectedAccountsRequest),
    "GetConnectedAccountsResponse": (()=>GetConnectedAccountsResponse),
    "IsConnectedRequest": (()=>IsConnectedRequest),
    "IsConnectedResponse": (()=>IsConnectedResponse),
    "PromptApprovalResponseMessage": (()=>PromptApprovalResponseMessage),
    "PromptConnectionRequestMessage": (()=>PromptConnectionRequestMessage),
    "PromptConnectionResponseMessage": (()=>PromptConnectionResponseMessage),
    "PromptUnauthorizedErrorMessage": (()=>PromptUnauthorizedErrorMessage),
    "SignAndSubmitTransactionRequest": (()=>SignAndSubmitTransactionRequest),
    "SignAndSubmitTransactionResponse": (()=>SignAndSubmitTransactionResponse),
    "SignInRequest": (()=>SignInRequest),
    "SignInResponse": (()=>SignInResponse),
    "SignMessageRequest": (()=>SignMessageRequest),
    "SignMessageResponse": (()=>SignMessageResponse),
    "SignTransactionRequest": (()=>SignTransactionRequest),
    "SignTransactionResponse": (()=>SignTransactionResponse),
    "TransactionPayloadInputVariant": (()=>TransactionPayloadInputVariant),
    "base64ToBytes": (()=>base64ToBytes),
    "base64urlToBytes": (()=>base64urlToBytes),
    "bytesToBase64": (()=>bytesToBase64),
    "bytesToBase64url": (()=>bytesToBase64url),
    "chainIdToNetwork": (()=>chainIdToNetwork),
    "decodePopupWalletRequest": (()=>decodePopupWalletRequest),
    "decodeWalletRequestBody": (()=>decodeWalletRequestBody),
    "deserializeAccountAuthenticatorInput": (()=>deserializeAccountAuthenticatorInput),
    "deserializeAccountInfo": (()=>deserializeAccountInfo),
    "deserializeAccountInput": (()=>deserializeAccountInput),
    "deserializeDappInfo": (()=>deserializeDappInfo),
    "deserializeEntryFunctionArgument": (()=>deserializeEntryFunctionArgument),
    "deserializePublicKey": (()=>deserializePublicKey),
    "deserializeSignature": (()=>deserializeSignature),
    "deserializeTransactionPayloadInput": (()=>deserializeTransactionPayloadInput),
    "deserializeWalletRequest": (()=>deserializeWalletRequest),
    "deserializeWalletRequestWithArgs": (()=>deserializeWalletRequestWithArgs),
    "deserializeWalletResponse": (()=>deserializeWalletResponse),
    "encodePopupWalletRequest": (()=>encodePopupWalletRequest),
    "encodeWalletRequestBody": (()=>encodeWalletRequestBody),
    "isSupportedNetwork": (()=>isSupportedNetwork),
    "isTypedMessage": (()=>isTypedMessage),
    "makePopupWalletRequestChallenge": (()=>makePopupWalletRequestChallenge),
    "makeUserApproval": (()=>makeUserApproval),
    "makeUserResponseDeserializeFn": (()=>makeUserResponseDeserializeFn),
    "makeUserResponseSerializeFn": (()=>makeUserResponseSerializeFn),
    "serializeAccountAuthenticatorInput": (()=>serializeAccountAuthenticatorInput),
    "serializeAccountInfo": (()=>serializeAccountInfo),
    "serializeAccountInput": (()=>serializeAccountInput),
    "serializeDappInfo": (()=>serializeDappInfo),
    "serializeEntryFunctionArgument": (()=>serializeEntryFunctionArgument),
    "serializePublicKey": (()=>serializePublicKey),
    "serializeSignature": (()=>serializeSignature),
    "serializeTransactionPayloadInput": (()=>serializeTransactionPayloadInput),
    "serializeWalletRequest": (()=>serializeWalletRequest),
    "serializeWalletRequestWithArgs": (()=>serializeWalletRequestWithArgs),
    "serializeWalletResponse": (()=>serializeWalletResponse),
    "urlDecodeWalletRequest": (()=>urlDecodeWalletRequest),
    "urlEncodeWalletRequest": (()=>urlEncodeWalletRequest)
});
// src/helpers.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/index.mjs [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__f__as__Network$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-4RXKALLC.mjs [app-client] (ecmascript) <export f as Network>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__g__as__NetworkToChainId$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-4RXKALLC.mjs [app-client] (ecmascript) <export g as NetworkToChainId>");
// src/features/connect/request.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__Ed25519PrivateKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-UQWF24SS.mjs [app-client] (ecmascript) <export c as Ed25519PrivateKey>");
// src/WalletRequest.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-FLZPUYXQ.mjs [app-client] (ecmascript) <export a as Deserializer>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$EBMEXURY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Serializer$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-EBMEXURY.mjs [app-client] (ecmascript) <export b as Serializer>");
// src/shared/AccountAuthenticatorInput.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-RGKRCZ36.mjs [app-client] (ecmascript) <export b as AccountAddress>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__AccountAuthenticator$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export J as AccountAuthenticator>");
// src/shared/PublicKey.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__A__as__AnyPublicKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export A as AnyPublicKey>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Ed25519PublicKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-UQWF24SS.mjs [app-client] (ecmascript) <export b as Ed25519PublicKey>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__F__as__MultiEd25519PublicKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export F as MultiEd25519PublicKey>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__D__as__MultiKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export D as MultiKey>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-IJE2LVZG.mjs [app-client] (ecmascript) <export J as SigningScheme>");
// src/shared/EntryFunctionArgument.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$MT2RJ7H3$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__FixedBytes$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-MT2RJ7H3.mjs [app-client] (ecmascript) <export a as FixedBytes>");
// src/shared/Signature.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__B__as__AnySignature$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export B as AnySignature>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__d__as__Ed25519Signature$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-UQWF24SS.mjs [app-client] (ecmascript) <export d as Ed25519Signature>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__G__as__MultiEd25519Signature$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export G as MultiEd25519Signature>");
// src/shared/TransactionPayloadInput.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ia__as__deserializeFromScriptArgument$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export ia as deserializeFromScriptArgument>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-STY74NUA.mjs [app-client] (ecmascript) <export b as Hex>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__gb__as__parseTypeTag$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export gb as parseTypeTag>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__R__as__TypeTag$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export R as TypeTag>");
// src/shared/AptosSignInOutput.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/index.mjs [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$FFGPGN2W$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AccountInfo$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-FFGPGN2W.mjs [app-client] (ecmascript) <export a as AccountInfo>");
// src/features/signAndSubmitTransaction/request.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ja__as__TransactionPayload$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export ja as TransactionPayload>");
// src/features/signTransaction/response.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__za__as__RawTransaction$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export za as RawTransaction>");
function base64ToBytes(base64) {
    const binaryString = atob(base64);
    return Uint8Array.from(binaryString, (m)=>m.charCodeAt(0));
}
function bytesToBase64(bytes) {
    const binaryString = String.fromCharCode(...bytes);
    return btoa(binaryString);
}
function base64urlToBytes(base64) {
    return base64ToBytes(base64.replace(/-/g, "+").replace(/_/g, "/"));
}
function bytesToBase64url(bytes) {
    return bytesToBase64(bytes).replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "");
}
;
function chainIdToNetwork(chainId) {
    switch(chainId){
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__g__as__NetworkToChainId$3e$__["NetworkToChainId"].mainnet:
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__f__as__Network$3e$__["Network"].MAINNET;
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__g__as__NetworkToChainId$3e$__["NetworkToChainId"].testnet:
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__f__as__Network$3e$__["Network"].TESTNET;
        default:
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__f__as__Network$3e$__["Network"].DEVNET;
    }
}
function isSupportedNetwork(network) {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__f__as__Network$3e$__["Network"].MAINNET,
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__f__as__Network$3e$__["Network"].TESTNET,
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__f__as__Network$3e$__["Network"].DEVNET
    ].includes(network);
}
;
;
;
function serializeAccountAuthenticatorInput(serializer, value) {
    serializer.serialize(value.address);
    serializer.serialize(value.authenticator);
}
function deserializeAccountAuthenticatorInput(deserializer) {
    const address = deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"]);
    const authenticator = deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__AccountAuthenticator$3e$__["AccountAuthenticator"]);
    return {
        address,
        authenticator
    };
}
;
;
function serializePublicKey(serializer, value) {
    if (value instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Ed25519PublicKey$3e$__["Ed25519PublicKey"]) {
        serializer.serializeU32AsUleb128(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].Ed25519);
    } else if (value instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__F__as__MultiEd25519PublicKey$3e$__["MultiEd25519PublicKey"]) {
        serializer.serializeU32AsUleb128(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].MultiEd25519);
    } else if (value instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__A__as__AnyPublicKey$3e$__["AnyPublicKey"]) {
        serializer.serializeU32AsUleb128(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].SingleKey);
    } else if (value instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__D__as__MultiKey$3e$__["MultiKey"]) {
        serializer.serializeU32AsUleb128(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].MultiKey);
    } else {
        throw new Error("Unexpected public key type");
    }
    serializer.serialize(value);
}
function deserializePublicKey(deserializer) {
    const signingScheme = deserializer.deserializeUleb128AsU32();
    switch(signingScheme){
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].Ed25519:
            return deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Ed25519PublicKey$3e$__["Ed25519PublicKey"]);
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].MultiEd25519:
            return deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__F__as__MultiEd25519PublicKey$3e$__["MultiEd25519PublicKey"]);
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].SingleKey:
            return deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__A__as__AnyPublicKey$3e$__["AnyPublicKey"]);
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].MultiKey:
            return deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__D__as__MultiKey$3e$__["MultiKey"]);
        default:
            throw new Error(`Unknown signing scheme: ${signingScheme}`);
    }
}
// src/shared/AccountInfo.ts
function serializeAccountInfo(serializer, value) {
    serializer.serialize(value.address);
    serializePublicKey(serializer, value.publicKey);
    serializer.serializeStr(value.name ?? "");
}
function deserializeAccountInfo(deserializer) {
    const address = deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"]);
    const publicKey = deserializePublicKey(deserializer);
    const name = deserializer.deserializeStr();
    return {
        address,
        publicKey,
        ...name.length > 0 ? {
            name
        } : void 0
    };
}
;
function serializeAccountInput(serializer, value) {
    serializer.serialize(value.address);
    serializer.serializeBool(value.publicKey !== void 0);
    if (value.publicKey) {
        serializePublicKey(serializer, value.publicKey);
    }
}
function deserializeAccountInput(deserializer) {
    const address = deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"]);
    const hasPublicKey = deserializer.deserializeBool();
    const publicKey = hasPublicKey ? deserializePublicKey(deserializer) : void 0;
    return {
        address,
        publicKey
    };
}
// src/shared/DappInfo.ts
function serializeDappInfo(serializer, value) {
    serializer.serializeStr(value.domain);
    serializer.serializeStr(value.name);
    serializer.serializeBool(value.imageURI !== void 0);
    if (value.imageURI !== void 0) {
        serializer.serializeStr(value.imageURI);
    }
}
function deserializeDappInfo(deserializer) {
    const domain = deserializer.deserializeStr();
    const name = deserializer.deserializeStr();
    const hasImageUri = deserializer.deserializeBool();
    const imageURI = hasImageUri ? deserializer.deserializeStr() : void 0;
    return {
        domain,
        imageURI,
        name
    };
}
;
var EntryFunctionArgumentVariant = /* @__PURE__ */ ((EntryFunctionArgumentVariant2)=>{
    EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2["Undefined"] = 0] = "Undefined";
    EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2["Array"] = 1] = "Array";
    EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2["String"] = 2] = "String";
    EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2["Uint8Array"] = 3] = "Uint8Array";
    EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2["AccountAddress"] = 4] = "AccountAddress";
    EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2["FixedBytes"] = 5] = "FixedBytes";
    return EntryFunctionArgumentVariant2;
})(EntryFunctionArgumentVariant || {});
function serializeEntryFunctionArgument(serializer, argument) {
    if (argument === void 0 || argument === null) {
        serializer.serializeU32AsUleb128(0 /* Undefined */ );
        return;
    }
    if (Array.isArray(argument)) {
        serializer.serializeU32AsUleb128(1 /* Array */ );
        serializer.serializeU32AsUleb128(argument.length);
        for (const subArgument of argument){
            serializeEntryFunctionArgument(serializer, subArgument);
        }
        return;
    }
    if (typeof argument === "string" || typeof argument === "number" || typeof argument === "boolean" || typeof argument === "bigint") {
        serializer.serializeU32AsUleb128(2 /* String */ );
        serializer.serializeStr(argument.toString());
        return;
    }
    if (argument instanceof Uint8Array) {
        serializer.serializeU32AsUleb128(3 /* Uint8Array */ );
        serializer.serializeBytes(argument);
        return;
    }
    if (argument instanceof ArrayBuffer) {
        serializer.serializeU32AsUleb128(3 /* Uint8Array */ );
        serializer.serializeBytes(new Uint8Array(argument));
        return;
    }
    if ("values" in argument) {
        serializer.serializeU32AsUleb128(1 /* Array */ );
        serializer.serializeU32AsUleb128(argument.values.length);
        for (const subArgument of argument.values){
            serializeEntryFunctionArgument(serializer, subArgument);
        }
        return;
    }
    if ("data" in argument) {
        serializer.serializeU32AsUleb128(4 /* AccountAddress */ );
        serializer.serialize(argument);
        return;
    }
    if (argument.value === void 0) {
        serializer.serializeU32AsUleb128(0 /* Undefined */ );
        serializer.serialize(argument);
        return;
    }
    if (argument.value instanceof Uint8Array) {
        serializer.serializeU32AsUleb128(5 /* FixedBytes */ );
        serializer.serializeBytes(argument.value);
        return;
    }
    serializer.serializeU32AsUleb128(2 /* String */ );
    serializer.serializeStr(argument.value.toString());
}
function deserializeEntryFunctionArgument(deserializer) {
    const variant = deserializer.deserializeUleb128AsU32();
    switch(variant){
        case 0 /* Undefined */ :
            {
                return void 0;
            }
        case 1 /* Array */ :
            {
                const length = deserializer.deserializeUleb128AsU32();
                const args = [];
                for(let i = 0; i < length; i += 1){
                    const argument = deserializeEntryFunctionArgument(deserializer);
                    args.push(argument);
                }
                return args;
            }
        case 3 /* Uint8Array */ :
            {
                return deserializer.deserializeBytes();
            }
        case 4 /* AccountAddress */ :
            {
                return deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"]);
            }
        case 2 /* String */ :
            {
                return deserializer.deserializeStr();
            }
        case 5 /* FixedBytes */ :
            {
                const bytes = deserializer.deserializeBytes();
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$MT2RJ7H3$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__FixedBytes$3e$__["FixedBytes"](bytes);
            }
        default:
            {
                throw new Error("Unexpected variant");
            }
    }
}
;
function serializeSignature(serializer, value) {
    if (value instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__d__as__Ed25519Signature$3e$__["Ed25519Signature"]) {
        serializer.serializeU32AsUleb128(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].Ed25519);
    } else if (value instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__G__as__MultiEd25519Signature$3e$__["MultiEd25519Signature"]) {
        serializer.serializeU32AsUleb128(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].MultiEd25519);
    } else if (value instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__B__as__AnySignature$3e$__["AnySignature"]) {
        serializer.serializeU32AsUleb128(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].SingleKey);
    } else {
        throw new Error("Unexpected signature type");
    }
    serializer.serialize(value);
}
function deserializeSignature(deserializer) {
    const signingScheme = deserializer.deserializeUleb128AsU32();
    switch(signingScheme){
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].Ed25519:
            return deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__d__as__Ed25519Signature$3e$__["Ed25519Signature"]);
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].MultiEd25519:
            return deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__G__as__MultiEd25519Signature$3e$__["MultiEd25519Signature"]);
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].SingleKey:
            return deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__B__as__AnySignature$3e$__["AnySignature"]);
        default:
            throw new Error(`Unknown signing scheme: ${signingScheme}`);
    }
}
;
var TransactionPayloadInputVariant = /* @__PURE__ */ ((TransactionPayloadInputVariant2)=>{
    TransactionPayloadInputVariant2[TransactionPayloadInputVariant2["EntryFunction"] = 0] = "EntryFunction";
    TransactionPayloadInputVariant2[TransactionPayloadInputVariant2["Script"] = 1] = "Script";
    TransactionPayloadInputVariant2[TransactionPayloadInputVariant2["Multisig"] = 2] = "Multisig";
    return TransactionPayloadInputVariant2;
})(TransactionPayloadInputVariant || {});
function serializeTypeArguments(serializer, typeArguments) {
    serializer.serializeU32AsUleb128(typeArguments.length);
    for (const typeArgument of typeArguments){
        const typeTag = typeof typeArgument === "string" ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__gb__as__parseTypeTag$3e$__["parseTypeTag"])(typeArgument, {
            allowGenerics: true
        }) : typeArgument;
        serializer.serialize(typeTag);
    }
}
function deserializeTypeArguments(deserializer) {
    const typeArguments = [];
    const typeArgumentsLength = deserializer.deserializeUleb128AsU32();
    for(let i = 0; i < typeArgumentsLength; i += 1){
        const typeTag = deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__R__as__TypeTag$3e$__["TypeTag"]);
        typeArguments.push(typeTag);
    }
    return typeArguments;
}
function serializeEntryFunctionArguments(serializer, functionArguments) {
    serializer.serializeU32AsUleb128(functionArguments.length);
    for (const functionArgument of functionArguments){
        serializeEntryFunctionArgument(serializer, functionArgument);
    }
}
function deserializeEntryFunctionArguments(deserializer) {
    const functionArgumentsLength = deserializer.deserializeUleb128AsU32();
    const functionArguments = [];
    for(let i = 0; i < functionArgumentsLength; i += 1){
        const functionArgument = deserializeEntryFunctionArgument(deserializer);
        functionArguments.push(functionArgument);
    }
    return functionArguments;
}
function serializeTransactionPayloadInput(serializer, value) {
    if ("multisigAddress" in value) {
        serializer.serializeU32AsUleb128(2 /* Multisig */ );
        serializer.serializeStr(value.function);
        serializeEntryFunctionArguments(serializer, value.functionArguments);
        serializeTypeArguments(serializer, value.typeArguments ?? []);
        const multisigAddress = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"].from(value.multisigAddress);
        serializer.serialize(multisigAddress);
    } else if ("function" in value) {
        serializer.serializeU32AsUleb128(0 /* EntryFunction */ );
        serializer.serializeStr(value.function);
        serializeEntryFunctionArguments(serializer, value.functionArguments);
        serializeTypeArguments(serializer, value.typeArguments ?? []);
    } else {
        serializer.serializeU32AsUleb128(1 /* Script */ );
        const bytecode = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__["Hex"].fromHexInput(value.bytecode);
        serializer.serializeBytes(bytecode.toUint8Array());
        serializer.serializeU32AsUleb128(value.functionArguments.length);
        for (const argument of value.functionArguments){
            argument.serializeForScriptFunction(serializer);
        }
        serializeTypeArguments(serializer, value.typeArguments ?? []);
    }
}
function deserializeTransactionPayloadInput(deserializer) {
    const variant = deserializer.deserializeUleb128AsU32();
    switch(variant){
        case 2 /* Multisig */ :
            {
                const functionId = deserializer.deserializeStr();
                const functionArguments = deserializeEntryFunctionArguments(deserializer);
                const typeArguments = deserializeTypeArguments(deserializer);
                const multisigAddress = deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"]);
                return {
                    function: functionId,
                    functionArguments,
                    multisigAddress,
                    typeArguments
                };
            }
        case 0 /* EntryFunction */ :
            {
                const functionId = deserializer.deserializeStr();
                const functionArguments = deserializeEntryFunctionArguments(deserializer);
                const typeArguments = deserializeTypeArguments(deserializer);
                return {
                    function: functionId,
                    functionArguments,
                    typeArguments
                };
            }
        case 1 /* Script */ :
            {
                const bytecode = deserializer.deserializeBytes();
                const functionArgumentsLength = deserializer.deserializeUleb128AsU32();
                const functionArguments = [];
                for(let i = 0; i < functionArgumentsLength; i += 1){
                    const argument = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ia__as__deserializeFromScriptArgument$3e$__["deserializeFromScriptArgument"])(deserializer);
                    functionArguments.push(argument);
                }
                const typeArguments = deserializeTypeArguments(deserializer);
                return {
                    bytecode,
                    functionArguments,
                    typeArguments
                };
            }
        default:
            {
                throw new Error("Unexpected variant");
            }
    }
}
// src/WalletRequest.ts
function serializeWalletRequest({ dappInfo, name, version }) {
    const serializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$EBMEXURY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Serializer$3e$__["Serializer"]();
    serializeDappInfo(serializer, dappInfo);
    const data = serializer.toUint8Array();
    return {
        data,
        name,
        version
    };
}
function deserializeWalletRequest({ data, name, version }) {
    const deserializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__["Deserializer"](data);
    const dappInfo = deserializeDappInfo(deserializer);
    return {
        dappInfo,
        name,
        version
    };
}
function serializeWalletRequestWithArgs({ args, dappInfo, name, version }, serializeArgsFn) {
    const serializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$EBMEXURY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Serializer$3e$__["Serializer"]();
    serializeDappInfo(serializer, dappInfo);
    serializeArgsFn(serializer, args);
    const data = serializer.toUint8Array();
    return {
        data,
        name,
        version
    };
}
function deserializeWalletRequestWithArgs({ data, name, version }, deserializeArgsFn) {
    const deserializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__["Deserializer"](data);
    const dappInfo = deserializeDappInfo(deserializer);
    const args = deserializeArgsFn(deserializer);
    return {
        args,
        dappInfo,
        name,
        version
    };
}
// src/features/connect/request.ts
var ConnectRequest;
((ConnectRequest2)=>{
    ConnectRequest2.name = "connect";
    ConnectRequest2.supportedVersions = [
        1,
        2,
        3,
        4
    ];
    ConnectRequest2.currentVersion = 4;
    function serializeArgs(serializer, value) {
        serializer.serializeOptionStr(value.dappId);
        serializer.serializeOptionStr(value.dappEd25519PublicKeyB64);
        serializer.serializeOptionStr(value.preferredWalletName);
        serializer.serializeBool(value.claimOptions !== void 0);
        if (value.claimOptions) {
            serializer.serialize(value.claimOptions.secretKey);
            serializer.serializeStr(value.claimOptions.network);
            serializer.serializeOptionStr(value.claimOptions.asset);
            if (!isSupportedNetwork(value.claimOptions.network)) {
                throw new Error(`Unsupported network '${value.claimOptions.network}'`);
            }
        }
    }
    ConnectRequest2.serializeArgs = serializeArgs;
    function deserializeArgs(deserializer, version) {
        if (version === 1) {
            return {};
        }
        const dappId = deserializer.deserializeOption("string");
        const dappEd25519PublicKeyB64 = deserializer.deserializeOption("string");
        const preferredWalletName = version >= 3 ? deserializer.deserializeOption("string") : void 0;
        const hasClaimOptions = version >= 4 ? deserializer.deserializeBool() : false;
        let claimOptions;
        if (hasClaimOptions) {
            const secretKey = deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__Ed25519PrivateKey$3e$__["Ed25519PrivateKey"]);
            const network = deserializer.deserializeStr();
            const asset = deserializer.deserializeOption("string");
            if (!isSupportedNetwork(network)) {
                throw new Error(`Unsupported network '${network}'`);
            }
            claimOptions = {
                asset,
                network,
                secretKey
            };
        }
        return {
            claimOptions,
            dappEd25519PublicKeyB64,
            dappId,
            preferredWalletName
        };
    }
    ConnectRequest2.deserializeArgs = deserializeArgs;
    function serialize(dappInfo, args = {}) {
        return serializeWalletRequestWithArgs({
            args,
            dappInfo,
            name: ConnectRequest2.name,
            version: ConnectRequest2.currentVersion
        }, serializeArgs);
    }
    ConnectRequest2.serialize = serialize;
    function deserialize(request) {
        return deserializeWalletRequestWithArgs(request, (d)=>deserializeArgs(d, request.version));
    }
    ConnectRequest2.deserialize = deserialize;
    function isSerialized(request) {
        return request.name === ConnectRequest2.name && ConnectRequest2.supportedVersions.includes(request.version);
    }
    ConnectRequest2.isSerialized = isSerialized;
})(ConnectRequest || (ConnectRequest = {}));
// src/UserResponse.ts
function makeUserApproval(args) {
    return {
        args,
        status: "approved"
    };
}
function makeUserResponseSerializeFn(serializeArgs) {
    return (serializer, value)=>{
        serializer.serializeBool(value.status === "approved");
        if (value.status === "approved") {
            serializeArgs(serializer, value.args);
        }
    };
}
function makeUserResponseDeserializeFn(deserializeArgs) {
    return (deserializer)=>{
        const isApproved = deserializer.deserializeBool();
        return isApproved ? {
            args: deserializeArgs(deserializer),
            status: "approved"
        } : {
            status: "dismissed"
        };
    };
}
;
function serializeWalletResponse(args, serializeFn) {
    const serializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$EBMEXURY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Serializer$3e$__["Serializer"]();
    serializeFn(serializer, args);
    const data = serializer.toUint8Array();
    return {
        data
    };
}
function deserializeWalletResponse({ data }, deserializeFn) {
    const deserializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__["Deserializer"](data);
    const args = deserializeFn(deserializer);
    return {
        args
    };
}
// src/features/connect/response.ts
var ConnectResponse;
((ConnectResponse2)=>{
    ConnectResponse2.supportedVersions = [
        1,
        2
    ];
    ConnectResponse2.currentVersion = 2;
    function serializeApprovalArgsV1(serializer, value) {
        serializeAccountInfo(serializer, value.account);
    }
    function serializeApprovalArgs(serializer, value) {
        serializeAccountInfo(serializer, value.account);
        serializer.serializeOptionStr(value.pairing !== void 0 ? JSON.stringify(value.pairing) : void 0);
    }
    function deserializeApprovalArgs(deserializer) {
        const account = deserializeAccountInfo(deserializer);
        const serializedPairing = deserializer.deserializeOption("string");
        const pairing = serializedPairing !== void 0 ? JSON.parse(serializedPairing) : void 0;
        return {
            account,
            pairing
        };
    }
    const serializeArgsV1 = makeUserResponseSerializeFn(serializeApprovalArgsV1);
    const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);
    const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);
    function serialize(args, version = ConnectResponse2.currentVersion) {
        return serializeWalletResponse(args, version === 1 ? serializeArgsV1 : serializeArgs);
    }
    ConnectResponse2.serialize = serialize;
    function deserialize(serializedResponse) {
        return deserializeWalletResponse(serializedResponse, deserializeArgs);
    }
    ConnectResponse2.deserialize = deserialize;
})(ConnectResponse || (ConnectResponse = {}));
// src/features/disconnect/request.ts
var DisconnectRequest;
((DisconnectRequest2)=>{
    DisconnectRequest2.name = "disconnect";
    DisconnectRequest2.currentVersion = 1;
    function serialize(dappInfo) {
        return serializeWalletRequest({
            dappInfo,
            name: DisconnectRequest2.name,
            version: DisconnectRequest2.currentVersion
        });
    }
    DisconnectRequest2.serialize = serialize;
    function deserialize(request) {
        return deserializeWalletRequest(request);
    }
    DisconnectRequest2.deserialize = deserialize;
    function isSerialized(request) {
        return request.name === DisconnectRequest2.name && request.version === DisconnectRequest2.currentVersion;
    }
    DisconnectRequest2.isSerialized = isSerialized;
})(DisconnectRequest || (DisconnectRequest = {}));
// src/features/disconnect/response.ts
var DisconnectResponse;
((DisconnectResponse2)=>{
    function serialize(args) {
        return serializeWalletResponse(args, ()=>{});
    }
    DisconnectResponse2.serialize = serialize;
    function deserialize(serializedResponse) {
        return deserializeWalletResponse(serializedResponse, ()=>({}));
    }
    DisconnectResponse2.deserialize = deserialize;
})(DisconnectResponse || (DisconnectResponse = {}));
// src/shared/AptosSignInInput.ts
function serializeAptosSignInInput(serializer, value) {
    serializer.serializeStr(JSON.stringify(value));
}
function deserializeAptosSignInInput(deserializer) {
    return JSON.parse(deserializer.deserializeStr());
}
// src/features/signIn/request.ts
var SignInRequest;
((SignInRequest2)=>{
    SignInRequest2.name = "signIn";
    SignInRequest2.supportedVersions = [
        1,
        2
    ];
    SignInRequest2.currentVersion = 2;
    function serializeArgs(serializer, value) {
        if (value.network !== void 0 && !isSupportedNetwork(value.network)) {
            throw new Error(`Unsupported network '${value.network}' in SignInRequest.serializeArgs`);
        }
        serializeAptosSignInInput(serializer, value);
        serializer.serializeStr(value.network);
    }
    SignInRequest2.serializeArgs = serializeArgs;
    function deserializeArgs(deserializer, _) {
        return {
            ...deserializeAptosSignInInput(deserializer),
            network: deserializer.deserializeStr()
        };
    }
    SignInRequest2.deserializeArgs = deserializeArgs;
    function serialize(dappInfo, args) {
        return serializeWalletRequestWithArgs({
            args,
            dappInfo,
            name: SignInRequest2.name,
            version: SignInRequest2.currentVersion
        }, serializeArgs);
    }
    SignInRequest2.serialize = serialize;
    function deserialize(request) {
        return deserializeWalletRequestWithArgs(request, (d)=>deserializeArgs(d, request.version));
    }
    SignInRequest2.deserialize = deserialize;
    function isSerialized(request) {
        return request.name === SignInRequest2.name && SignInRequest2.supportedVersions.includes(request.version);
    }
    SignInRequest2.isSerialized = isSerialized;
})(SignInRequest || (SignInRequest = {}));
;
function serializeAptosSignInOutputV1(serializer, value) {
    serializeAccountInfo(serializer, value.account);
    serializer.serializeStr(JSON.stringify(value.input));
    serializer.serializeStr(value.plainText);
    serializeSignature(serializer, value.signature);
    serializer.serializeBytes(value.signingMessage);
    serializer.serializeStr(value.type);
}
function deserializeAptosSignInOutputV1(deserializer) {
    return {
        account: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$FFGPGN2W$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AccountInfo$3e$__["AccountInfo"](deserializeAccountInfo(deserializer)),
        input: JSON.parse(deserializer.deserializeStr()),
        plainText: deserializer.deserializeStr(),
        signature: deserializeSignature(deserializer),
        signingMessage: deserializer.deserializeBytes(),
        type: deserializer.deserializeStr()
    };
}
function serializeAptosSignInOutput(serializer, value) {
    serializeAccountInfo(serializer, value.account);
    serializer.serializeStr(JSON.stringify(value.input));
    serializeSignature(serializer, value.signature);
    serializer.serializeStr(value.type);
}
function deserializeAptosSignInOutput(deserializer) {
    return {
        account: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$FFGPGN2W$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AccountInfo$3e$__["AccountInfo"](deserializeAccountInfo(deserializer)),
        input: JSON.parse(deserializer.deserializeStr()),
        signature: deserializeSignature(deserializer),
        type: deserializer.deserializeStr()
    };
}
// src/features/signIn/response.ts
var SignInResponse;
((SignInResponse2)=>{
    SignInResponse2.supportedVersions = [
        1,
        2
    ];
    SignInResponse2.currentVersion = 2;
    function serializeApprovalArgsV1(serializer, value) {
        serializeAptosSignInOutputV1(serializer, value);
    }
    function deserializeApprovalArgsV1(deserializer) {
        return deserializeAptosSignInOutputV1(deserializer);
    }
    function serializeApprovalArgs(serializer, value) {
        serializeAptosSignInOutput(serializer, value);
    }
    function deserializeApprovalArgs(deserializer) {
        return deserializeAptosSignInOutput(deserializer);
    }
    const serializeArgsV1 = makeUserResponseSerializeFn(serializeApprovalArgsV1);
    const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);
    const deserializeArgsV1 = makeUserResponseDeserializeFn(deserializeApprovalArgsV1);
    const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);
    function serialize(args, version = SignInResponse2.currentVersion) {
        return serializeWalletResponse(args, version === 1 ? serializeArgsV1 : serializeArgs);
    }
    SignInResponse2.serialize = serialize;
    function deserialize(serializedResponse, version = SignInResponse2.currentVersion) {
        return deserializeWalletResponse(serializedResponse, version === 1 ? deserializeArgsV1 : deserializeArgs);
    }
    SignInResponse2.deserialize = deserialize;
})(SignInResponse || (SignInResponse = {}));
// src/features/getConnectedAccounts/request.ts
var GetConnectedAccountsRequest;
((GetConnectedAccountsRequest2)=>{
    GetConnectedAccountsRequest2.name = "getConnectedAccounts";
    GetConnectedAccountsRequest2.currentVersion = 1;
    function serialize(dappInfo) {
        return serializeWalletRequest({
            dappInfo,
            name: GetConnectedAccountsRequest2.name,
            version: GetConnectedAccountsRequest2.currentVersion
        });
    }
    GetConnectedAccountsRequest2.serialize = serialize;
    function deserialize(request) {
        return deserializeWalletRequest(request);
    }
    GetConnectedAccountsRequest2.deserialize = deserialize;
    function isSerialized(request) {
        return request.name === GetConnectedAccountsRequest2.name && request.version === GetConnectedAccountsRequest2.currentVersion;
    }
    GetConnectedAccountsRequest2.isSerialized = isSerialized;
})(GetConnectedAccountsRequest || (GetConnectedAccountsRequest = {}));
// src/features/getConnectedAccounts/response.ts
var GetConnectedAccountsResponse;
((GetConnectedAccountsResponse2)=>{
    function serializeArgs(serializer, args) {
        serializer.serializeU32AsUleb128(args.length);
        for (const account of args){
            serializeAccountInfo(serializer, account);
        }
    }
    function deserializeArgs(deserializer) {
        const length = deserializer.deserializeUleb128AsU32();
        const accounts = [];
        for(let i = 0; i < length; i += 1){
            accounts.push(deserializeAccountInfo(deserializer));
        }
        return accounts;
    }
    function serialize(args) {
        return serializeWalletResponse(args, serializeArgs);
    }
    GetConnectedAccountsResponse2.serialize = serialize;
    function deserialize(serializedResponse) {
        return deserializeWalletResponse(serializedResponse, deserializeArgs);
    }
    GetConnectedAccountsResponse2.deserialize = deserialize;
})(GetConnectedAccountsResponse || (GetConnectedAccountsResponse = {}));
// src/features/isConnected/request.ts
var IsConnectedRequest;
((IsConnectedRequest2)=>{
    IsConnectedRequest2.name = "isConnected";
    IsConnectedRequest2.currentVersion = 1;
    function serialize(dappInfo) {
        return serializeWalletRequest({
            dappInfo,
            name: IsConnectedRequest2.name,
            version: IsConnectedRequest2.currentVersion
        });
    }
    IsConnectedRequest2.serialize = serialize;
    function deserialize(request) {
        return deserializeWalletRequest(request);
    }
    IsConnectedRequest2.deserialize = deserialize;
    function isSerialized(request) {
        return request.name === IsConnectedRequest2.name && request.version === IsConnectedRequest2.currentVersion;
    }
    IsConnectedRequest2.isSerialized = isSerialized;
})(IsConnectedRequest || (IsConnectedRequest = {}));
// src/features/isConnected/response.ts
var IsConnectedResponse;
((IsConnectedResponse2)=>{
    function serializeArgs(serializer, value) {
        serializer.serializeBool(value);
    }
    function deserializeArgs(deserializer) {
        return deserializer.deserializeBool();
    }
    function serialize(args) {
        return serializeWalletResponse(args, serializeArgs);
    }
    IsConnectedResponse2.serialize = serialize;
    function deserialize(serializedResponse) {
        return deserializeWalletResponse(serializedResponse, deserializeArgs);
    }
    IsConnectedResponse2.deserialize = deserialize;
})(IsConnectedResponse || (IsConnectedResponse = {}));
;
var SignAndSubmitTransactionRequest;
((SignAndSubmitTransactionRequest2)=>{
    SignAndSubmitTransactionRequest2.name = "signAndSubmitTransaction";
    SignAndSubmitTransactionRequest2.supportedVersions = [
        1,
        2,
        3
    ];
    SignAndSubmitTransactionRequest2.currentVersion = 3;
    function serializeArgs(serializer, value) {
        if (value.network !== void 0 && !isSupportedNetwork(value.network)) {
            throw new Error(`Unsupported network '${value.network}'`);
        }
        serializer.serializeBool(value.signerAddress !== void 0);
        if (value.signerAddress !== void 0) {
            serializer.serialize(value.signerAddress);
        }
        serializer.serializeOptionStr(value.network);
        if ("bcsToBytes" in value.payload) {
            serializer.serializeBool(true);
            serializer.serialize(value.payload);
        } else {
            serializer.serializeBool(false);
            serializeTransactionPayloadInput(serializer, value.payload);
        }
        serializer.serializeU64(value.expirationTimestamp ?? 0);
        serializer.serializeU32AsUleb128(value.gasUnitPrice ?? 0);
        serializer.serializeU32AsUleb128(value.maxGasAmount ?? 0);
        serializer.serializeU32AsUleb128(value.feePayer ? 1 : 0);
        if (value.feePayer) {
            serializeAccountAuthenticatorInput(serializer, value.feePayer);
        }
    }
    SignAndSubmitTransactionRequest2.serializeArgs = serializeArgs;
    function deserializeArgs(deserializer, version) {
        const hasSignerAddress = version >= 3 && deserializer.deserializeBool();
        const signerAddress = hasSignerAddress ? deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"]) : void 0;
        const network = version === 1 ? deserializer.deserializeStr() : deserializer.deserializeOption("string");
        if (network !== void 0 && !isSupportedNetwork(network)) {
            throw new Error(`Unsupported network '${network}'`);
        }
        const isPayloadBcsSerializable = version === 1 || deserializer.deserializeBool();
        const payload = isPayloadBcsSerializable ? deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ja__as__TransactionPayload$3e$__["TransactionPayload"]) : deserializeTransactionPayloadInput(deserializer);
        const expirationTimestamp = Number(deserializer.deserializeU64());
        const gasUnitPrice = deserializer.deserializeUleb128AsU32();
        const maxGasAmount = deserializer.deserializeUleb128AsU32();
        const hasFeePayer = deserializer.deserializeUleb128AsU32();
        const feePayer = hasFeePayer ? deserializeAccountAuthenticatorInput(deserializer) : void 0;
        return {
            expirationTimestamp: expirationTimestamp > 0 ? expirationTimestamp : void 0,
            feePayer,
            gasUnitPrice: gasUnitPrice > 0 ? gasUnitPrice : void 0,
            maxGasAmount: maxGasAmount > 0 ? maxGasAmount : void 0,
            network,
            payload,
            signerAddress
        };
    }
    SignAndSubmitTransactionRequest2.deserializeArgs = deserializeArgs;
    function serialize(dappInfo, args) {
        const request = {
            args,
            dappInfo,
            name: SignAndSubmitTransactionRequest2.name,
            version: SignAndSubmitTransactionRequest2.currentVersion
        };
        return serializeWalletRequestWithArgs(request, serializeArgs);
    }
    SignAndSubmitTransactionRequest2.serialize = serialize;
    function deserialize(serializedRequest) {
        return deserializeWalletRequestWithArgs(serializedRequest, (deserializer)=>deserializeArgs(deserializer, serializedRequest.version));
    }
    SignAndSubmitTransactionRequest2.deserialize = deserialize;
    function isSerialized(request) {
        return request.name === SignAndSubmitTransactionRequest2.name && SignAndSubmitTransactionRequest2.supportedVersions.includes(request.version);
    }
    SignAndSubmitTransactionRequest2.isSerialized = isSerialized;
})(SignAndSubmitTransactionRequest || (SignAndSubmitTransactionRequest = {}));
// src/features/signAndSubmitTransaction/response.ts
var SignAndSubmitTransactionResponse;
((SignAndSubmitTransactionResponse2)=>{
    function serializeApprovalArgs(serializer, value) {
        serializer.serializeStr(value.txnHash);
    }
    function deserializeApprovalArgs(deserializer) {
        const txnHash = deserializer.deserializeStr();
        return {
            txnHash
        };
    }
    const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);
    const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);
    function serialize(args) {
        return serializeWalletResponse(args, serializeArgs);
    }
    SignAndSubmitTransactionResponse2.serialize = serialize;
    function deserialize(serializedResponse) {
        return deserializeWalletResponse(serializedResponse, deserializeArgs);
    }
    SignAndSubmitTransactionResponse2.deserialize = deserialize;
})(SignAndSubmitTransactionResponse || (SignAndSubmitTransactionResponse = {}));
;
var SignMessageRequest;
((SignMessageRequest2)=>{
    SignMessageRequest2.name = "signMessage";
    SignMessageRequest2.supportedVersions = [
        1,
        2
    ];
    SignMessageRequest2.currentVersion = 2;
    function serializeArgs(serializer, value) {
        serializer.serializeBool(value.signerAddress !== void 0);
        if (value.signerAddress !== void 0) {
            serializer.serialize(value.signerAddress);
        }
        serializer.serializeU8(value.chainId);
        serializer.serializeBytes(value.nonce);
        serializer.serializeBytes(value.message);
    }
    function deserializeArgs(deserializer, version) {
        const hasSignerAddress = version >= 2 && deserializer.deserializeBool();
        const signerAddress = hasSignerAddress ? deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"]) : void 0;
        const chainId = deserializer.deserializeU8();
        const nonce = deserializer.deserializeBytes();
        const message = deserializer.deserializeBytes();
        return {
            chainId,
            message,
            nonce,
            signerAddress
        };
    }
    function serialize(dappInfo, args) {
        const request = {
            args,
            dappInfo,
            name: SignMessageRequest2.name,
            version: SignMessageRequest2.currentVersion
        };
        return serializeWalletRequestWithArgs(request, serializeArgs);
    }
    SignMessageRequest2.serialize = serialize;
    function deserialize(serializedRequest) {
        return deserializeWalletRequestWithArgs(serializedRequest, (d)=>deserializeArgs(d, serializedRequest.version));
    }
    SignMessageRequest2.deserialize = deserialize;
    function isSerialized(request) {
        return request.name === SignMessageRequest2.name && request.version === SignMessageRequest2.currentVersion;
    }
    SignMessageRequest2.isSerialized = isSerialized;
})(SignMessageRequest || (SignMessageRequest = {}));
// src/features/signMessage/response.ts
var SignMessageResponse;
((SignMessageResponse2)=>{
    function serializeApprovalArgs(serializer, value) {
        serializer.serializeStr(value.fullMessage);
        serializeSignature(serializer, value.signature);
    }
    function deserializeApprovalArgs(deserializer) {
        const fullMessage = deserializer.deserializeStr();
        const signature = deserializeSignature(deserializer);
        return {
            fullMessage,
            signature
        };
    }
    const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);
    const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);
    function serialize(args) {
        return serializeWalletResponse(args, serializeArgs);
    }
    SignMessageResponse2.serialize = serialize;
    function deserialize(serializedResponse) {
        return deserializeWalletResponse(serializedResponse, deserializeArgs);
    }
    SignMessageResponse2.deserialize = deserialize;
})(SignMessageResponse || (SignMessageResponse = {}));
;
var SignTransactionRequest;
((SignTransactionRequest2)=>{
    SignTransactionRequest2.name = "signTransaction";
    SignTransactionRequest2.supportedVersions = [
        1,
        2,
        3,
        4
    ];
    SignTransactionRequest2.currentVersion = 4;
    function normalizeArgs(args) {
        const { feePayer, secondarySigners, senderPublicKey, signerAddress, transaction } = args;
        const sender = {
            address: transaction.sender,
            publicKey: senderPublicKey
        };
        const network = chainIdToNetwork(args.transaction.chain_id.chainId);
        return {
            expirationTimestamp: Number(transaction.expiration_timestamp_secs),
            feePayer,
            gasUnitPrice: Number(transaction.gas_unit_price),
            maxGasAmount: Number(transaction.max_gas_amount),
            network,
            payload: transaction.payload,
            secondarySigners,
            sender,
            signerAddress
        };
    }
    SignTransactionRequest2.normalizeArgs = normalizeArgs;
    function serializeArgs(serializer, value) {
        if (value.network !== void 0 && !isSupportedNetwork(value.network)) {
            throw new Error(`Unsupported network '${value.network}'`);
        }
        serializer.serializeBool(value.signerAddress !== void 0);
        if (value.signerAddress !== void 0) {
            serializer.serialize(value.signerAddress);
        }
        serializer.serializeOptionStr(value.network);
        serializer.serializeBool(value.sender !== void 0);
        if (value.sender !== void 0) {
            serializeAccountInput(serializer, value.sender);
        }
        if ("bcsToBytes" in value.payload) {
            serializer.serializeBool(true);
            serializer.serialize(value.payload);
        } else {
            serializer.serializeBool(false);
            serializeTransactionPayloadInput(serializer, value.payload);
        }
        serializer.serializeU32AsUleb128(value.expirationSecondsFromNow ?? 0);
        serializer.serializeU64(value.expirationTimestamp ?? 0);
        serializer.serializeU32AsUleb128(value.gasUnitPrice ?? 0);
        serializer.serializeU32AsUleb128(value.maxGasAmount ?? 0);
        serializer.serializeBool(value.feePayer !== void 0);
        if (value.feePayer !== void 0) {
            serializeAccountInput(serializer, value.feePayer);
        }
        const secondarySigners = value.secondarySigners ?? [];
        serializer.serializeU32AsUleb128(secondarySigners.length);
        for (const signer of secondarySigners){
            serializeAccountInput(serializer, signer);
        }
    }
    function deserializeArgs(deserializer, version) {
        const hasSignerAddress = version >= 3 && deserializer.deserializeBool();
        const signerAddress = hasSignerAddress ? deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"]) : void 0;
        const network = version === 1 ? deserializer.deserializeStr() : deserializer.deserializeOption("string");
        if (network !== void 0 && !isSupportedNetwork(network)) {
            throw new Error(`Unsupported network '${network}'`);
        }
        const hasSender = deserializer.deserializeBool();
        const sender = hasSender ? deserializeAccountInput(deserializer) : void 0;
        const isPayloadBcsSerializable = version < 4 || deserializer.deserializeBool();
        const payload = isPayloadBcsSerializable ? deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ja__as__TransactionPayload$3e$__["TransactionPayload"]) : deserializeTransactionPayloadInput(deserializer);
        const expirationSecondsFromNow = deserializer.deserializeUleb128AsU32();
        const expirationTimestamp = Number(deserializer.deserializeU64());
        const gasUnitPrice = deserializer.deserializeUleb128AsU32();
        const maxGasAmount = deserializer.deserializeUleb128AsU32();
        const hasFeePayer = deserializer.deserializeBool();
        const feePayer = hasFeePayer ? deserializeAccountInput(deserializer) : void 0;
        const secondarySignersLength = deserializer.deserializeUleb128AsU32();
        const secondarySigners = [];
        for(let i = 0; i < secondarySignersLength; i += 1){
            secondarySigners.push(deserializeAccountInput(deserializer));
        }
        return {
            expirationSecondsFromNow: expirationSecondsFromNow > 0 ? expirationSecondsFromNow : void 0,
            expirationTimestamp: expirationTimestamp > 0 ? expirationTimestamp : void 0,
            feePayer,
            gasUnitPrice: gasUnitPrice > 0 ? gasUnitPrice : void 0,
            maxGasAmount: maxGasAmount > 0 ? maxGasAmount : void 0,
            network,
            payload,
            secondarySigners,
            sender,
            signerAddress
        };
    }
    function serialize(dappInfo, args) {
        const request = {
            args,
            dappInfo,
            name: SignTransactionRequest2.name,
            version: SignTransactionRequest2.currentVersion
        };
        return serializeWalletRequestWithArgs(request, serializeArgs);
    }
    SignTransactionRequest2.serialize = serialize;
    function deserialize(serializedRequest) {
        return deserializeWalletRequestWithArgs(serializedRequest, (deserializer)=>deserializeArgs(deserializer, serializedRequest.version));
    }
    SignTransactionRequest2.deserialize = deserialize;
    function isSerialized(request) {
        return request.name === SignTransactionRequest2.name && SignTransactionRequest2.supportedVersions.includes(request.version);
    }
    SignTransactionRequest2.isSerialized = isSerialized;
})(SignTransactionRequest || (SignTransactionRequest = {}));
;
var SignTransactionResponse;
((SignTransactionResponse2)=>{
    function serializeApprovalArgs(serializer, value) {
        serializer.serialize(value.authenticator);
        serializer.serializeBool(value.rawTransaction !== void 0);
        if (value.rawTransaction !== void 0) {
            serializer.serialize(value.rawTransaction);
        }
    }
    function deserializeApprovalArgs(deserializer) {
        const authenticator = deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__AccountAuthenticator$3e$__["AccountAuthenticator"]);
        const hasRawTransaction = deserializer.deserializeBool();
        const rawTransaction = hasRawTransaction ? deserializer.deserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__za__as__RawTransaction$3e$__["RawTransaction"]) : void 0;
        return {
            authenticator,
            rawTransaction
        };
    }
    const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);
    const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);
    function serialize(args) {
        return serializeWalletResponse(args, serializeArgs);
    }
    SignTransactionResponse2.serialize = serialize;
    function deserialize(serializedResponse) {
        return deserializeWalletResponse(serializedResponse, deserializeArgs);
    }
    SignTransactionResponse2.deserialize = deserialize;
})(SignTransactionResponse || (SignTransactionResponse = {}));
// src/messages/common.ts
function isTypedMessage(messageCls, message) {
    return message?.__messageType === messageCls.TYPE;
}
;
var _PromptConnectionRequestMessage = class _PromptConnectionRequestMessage {
    constructor(){
        this.__messageType = _PromptConnectionRequestMessage.TYPE;
    }
};
_PromptConnectionRequestMessage.TYPE = "PromptConnectionRequest";
var PromptConnectionRequestMessage = _PromptConnectionRequestMessage;
var _PromptConnectionResponseMessage = class _PromptConnectionResponseMessage {
    constructor(serializedRequest){
        this.serializedRequest = serializedRequest;
        this.__messageType = _PromptConnectionResponseMessage.TYPE;
    }
};
_PromptConnectionResponseMessage.TYPE = "PromptConnectionResponse";
var PromptConnectionResponseMessage = _PromptConnectionResponseMessage;
var _PromptApprovalResponseMessage = class _PromptApprovalResponseMessage {
    constructor(serializedValue){
        this.serializedValue = serializedValue;
        this.__messageType = _PromptApprovalResponseMessage.TYPE;
    }
};
_PromptApprovalResponseMessage.TYPE = "PromptApprovalResponse";
var PromptApprovalResponseMessage = _PromptApprovalResponseMessage;
var _PromptUnauthorizedErrorMessage = class _PromptUnauthorizedErrorMessage {
    constructor(){
        this.__messageType = _PromptUnauthorizedErrorMessage.TYPE;
    }
};
_PromptUnauthorizedErrorMessage.TYPE = "PromptUnauthorizedError";
var PromptUnauthorizedErrorMessage = _PromptUnauthorizedErrorMessage;
function urlEncodeWalletRequest(request) {
    const serializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$EBMEXURY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Serializer$3e$__["Serializer"]();
    serializer.serializeStr(request.name);
    serializer.serializeBytes(request.data);
    serializer.serializeStr(request.version.toString());
    return bytesToBase64(serializer.toUint8Array());
}
function urlDecodeWalletRequest(encodedRequest) {
    const deserializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__["Deserializer"](base64ToBytes(encodedRequest));
    const name = deserializer.deserializeStr();
    const data = deserializer.deserializeBytes();
    let version;
    try {
        version = Number(deserializer.deserializeStr());
    } catch  {
        version = 1;
    }
    return {
        data,
        name,
        version
    };
}
;
// src/WalletRequestBody.ts
function encodeWalletRequestBody({ data, ...rest }) {
    const serialized = JSON.stringify({
        data,
        ...rest
    }, (key, value)=>key === "data" ? bytesToBase64(value) : value);
    const utf8Encoded = new TextEncoder().encode(serialized);
    return bytesToBase64(utf8Encoded);
}
function decodeWalletRequestBody(encoded) {
    const utfEncoded = base64ToBytes(encoded);
    const serialized = new TextDecoder().decode(utfEncoded);
    return JSON.parse(serialized, (key, value)=>key === "data" ? base64ToBytes(value) : value);
}
// src/PopupWalletRequest.ts
function encodePopupWalletRequest(request) {
    const serialized = JSON.stringify(request, (key, value)=>{
        switch(key){
            case "body":
                return encodeWalletRequestBody(value);
            case "clientIdentityKey":
                return bytesToBase64(value.toUint8Array());
            case "signature":
                return bytesToBase64(value.toUint8Array());
            default:
                return value;
        }
    });
    const utf8Encoded = new TextEncoder().encode(serialized);
    return bytesToBase64url(utf8Encoded);
}
function decodePopupWalletRequest(encoded) {
    const utfEncoded = base64urlToBytes(encoded);
    const serialized = new TextDecoder().decode(utfEncoded);
    return JSON.parse(serialized, (key, value)=>{
        switch(key){
            case "body":
                return decodeWalletRequestBody(value);
            case "clientIdentityKey":
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Ed25519PublicKey$3e$__["Ed25519PublicKey"](base64ToBytes(value));
            case "signature":
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__d__as__Ed25519Signature$3e$__["Ed25519Signature"](base64ToBytes(value));
            default:
                return value;
        }
    });
}
function makePopupWalletRequestChallenge({ accountAddress, body, id, timestamp }) {
    const serializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$EBMEXURY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Serializer$3e$__["Serializer"]();
    serializer.serializeStr("SignedPopupWalletRequest");
    serializer.serializeStr(id);
    serializer.serializeU64(timestamp);
    serializer.serializeBool(accountAddress !== void 0);
    if (accountAddress !== void 0) {
        serializer.serialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"].from(accountAddress));
    }
    serializer.serializeStr(body.name);
    serializer.serializeU8(body.version);
    serializer.serializeBytes(body.data);
    return serializer.toUint8Array();
}
;
 //# sourceMappingURL=index.mjs.map
}}),
"[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@identity-connect/crypto/dist/index.mjs [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
// src/encrDecr.ts
__turbopack_context__.s({
    "AccountConnectionAction": (()=>AccountConnectionAction),
    "DecryptionError": (()=>DecryptionError),
    "EncryptionEnvelopeError": (()=>EncryptionEnvelopeError),
    "EnvelopeMessageMismatchError": (()=>EnvelopeMessageMismatchError),
    "KeyTypes": (()=>KeyTypes),
    "REQUIRED_FIELDS": (()=>REQUIRED_FIELDS),
    "SIGNATURE_PREFIX": (()=>SIGNATURE_PREFIX),
    "aptosAccountToEd25519Keypair": (()=>aptosAccountToEd25519Keypair),
    "aptosAccountToSerializedInfo": (()=>aptosAccountToSerializedInfo),
    "concatUint8array": (()=>concatUint8array),
    "constructMetadata": (()=>constructMetadata),
    "convertEd25519PublicKeyToX25519PublicKey": (()=>convertEd25519PublicKeyToX25519PublicKey),
    "convertEd25519SecretKeyToX25519SecretKey": (()=>convertEd25519SecretKeyToX25519SecretKey),
    "createEd25519KeyPair": (()=>createEd25519KeyPair),
    "createSerializedAccountInfo": (()=>createSerializedAccountInfo),
    "createX25519KeyPair": (()=>createX25519KeyPair),
    "dangerouslyEncryptAndSignEnvelopeUnvalidated": (()=>dangerouslyEncryptAndSignEnvelopeUnvalidated),
    "decodeBase64": (()=>decodeBase64),
    "decryptEnvelope": (()=>decryptEnvelope),
    "decryptMessage": (()=>decryptMessage),
    "decryptMessageDirect": (()=>decryptMessageDirect),
    "decryptObject": (()=>decryptObject),
    "decryptObjectDirect": (()=>decryptObjectDirect),
    "decryptSerializedEncryptionResult": (()=>decryptSerializedEncryptionResult),
    "decryptSerializedEncryptionResultDirect": (()=>decryptSerializedEncryptionResultDirect),
    "deriveAccountTransportEd25519Keypair": (()=>deriveAccountTransportEd25519Keypair),
    "deserializeEd25519PublicKeyB64": (()=>deserializeEd25519PublicKeyB64),
    "deserializeEd25519SignatureB64": (()=>deserializeEd25519SignatureB64),
    "deserializeEncryptionResult": (()=>deserializeEncryptionResult),
    "deserializePublicKeyB64": (()=>deserializePublicKeyB64),
    "deserializeSignatureB64": (()=>deserializeSignatureB64),
    "deserializeTransportEnvelope": (()=>deserializeTransportEnvelope),
    "ed25519KeypairFromSecret": (()=>ed25519KeypairFromSecret),
    "encodeBase64": (()=>encodeBase64),
    "encryptAndSignEnvelope": (()=>encryptAndSignEnvelope),
    "encryptMessage": (()=>encryptMessage),
    "encryptMessageDirect": (()=>encryptMessageDirect),
    "encryptObject": (()=>encryptObject),
    "encryptObjectDirect": (()=>encryptObjectDirect),
    "ensureMetadataFields": (()=>ensureMetadataFields),
    "ensurePrivatePublicFieldsDisjoint": (()=>ensurePrivatePublicFieldsDisjoint),
    "hashAndVerifySignature": (()=>hashAndVerifySignature),
    "keypairToEd25519": (()=>keypairToEd25519),
    "keypairToX25519": (()=>keypairToX25519),
    "makeEd25519SecretKeySignCallbackNoDomainSeparation": (()=>makeEd25519SecretKeySignCallbackNoDomainSeparation),
    "messageHash": (()=>messageHash),
    "publicKeyB64FromEd25519PublicKeyB64": (()=>publicKeyB64FromEd25519PublicKeyB64),
    "serializeEncryptionResult": (()=>serializeEncryptionResult),
    "serializePublicKeyB64": (()=>serializePublicKeyB64),
    "serializeSignatureB64": (()=>serializeSignatureB64),
    "signWithEd25519SecretKey": (()=>signWithEd25519SecretKey),
    "toKey": (()=>toKey),
    "verifyEnvelopeSignature": (()=>verifyEnvelopeSignature),
    "verifySignature": (()=>verifySignature)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/buffer/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/index.mjs [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__d__as__Ed25519Signature$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-UQWF24SS.mjs [app-client] (ecmascript) <export d as Ed25519Signature>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$noble$2f$hashes$2f$esm$2f$sha3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@noble/hashes/esm/sha3.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tweetnacl$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tweetnacl/nacl-fast.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ed2curve$2f$ed2curve$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/ed2curve/ed2curve.js [app-client] (ecmascript)");
// src/securedEnvelope.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Ed25519PublicKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-UQWF24SS.mjs [app-client] (ecmascript) <export b as Ed25519PublicKey>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-STY74NUA.mjs [app-client] (ecmascript) <export b as Hex>");
// src/serialization.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@aptos-connect/wallet-api/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-FLZPUYXQ.mjs [app-client] (ecmascript) <export a as Deserializer>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$EBMEXURY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Serializer$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-EBMEXURY.mjs [app-client] (ecmascript) <export b as Serializer>");
// src/walletAccounts.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$WSR5EBJM$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__PublicKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-WSR5EBJM.mjs [app-client] (ecmascript) <export a as PublicKey>");
;
;
;
;
// src/errors.ts
var EncryptionEnvelopeError = class extends Error {
};
var EnvelopeMessageMismatchError = class _EnvelopeMessageMismatchError extends EncryptionEnvelopeError {
    constructor(message, field){
        super(message);
        this.field = field;
        this.name = "EnvelopeMessageMismatchError";
        Object.setPrototypeOf(this, _EnvelopeMessageMismatchError.prototype);
    }
};
var DecryptionError = class _DecryptionError extends EncryptionEnvelopeError {
    constructor(message){
        super(message);
        this.name = "DecryptionError";
        Object.setPrototypeOf(this, _DecryptionError.prototype);
    }
};
;
var KeyTypes = /* @__PURE__ */ ((KeyTypes2)=>{
    KeyTypes2["Ed25519PublicKey"] = "Ed25519PublicKey";
    KeyTypes2["Ed25519SecretKey"] = "Ed25519SecretKey";
    KeyTypes2["X25519PublicKey"] = "X25519PublicKey";
    KeyTypes2["X25519SecretKey"] = "X25519SecretKey";
    return KeyTypes2;
})(KeyTypes || {});
function createX25519KeyPair() {
    return keypairToX25519(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tweetnacl$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].box.keyPair());
}
function createEd25519KeyPair() {
    return keypairToEd25519(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tweetnacl$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].sign.keyPair());
}
function toKey(rawKey, type) {
    return {
        key: rawKey,
        type
    };
}
function keypairToEd25519(keyPair) {
    return {
        publicKey: toKey(keyPair.publicKey, "Ed25519PublicKey" /* Ed25519PublicKey */ ),
        secretKey: toKey(keyPair.secretKey, "Ed25519SecretKey" /* Ed25519SecretKey */ )
    };
}
function keypairToX25519(keyPair) {
    return {
        publicKey: toKey(keyPair.publicKey, "X25519PublicKey" /* X25519PublicKey */ ),
        secretKey: toKey(keyPair.secretKey, "X25519SecretKey" /* X25519SecretKey */ )
    };
}
function aptosAccountToEd25519Keypair(account) {
    return ed25519KeypairFromSecret(account.signingKey.secretKey);
}
function ed25519KeypairFromSecret(ed25519SecretKeyBytes) {
    return keypairToEd25519(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tweetnacl$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].sign.keyPair.fromSeed(ed25519SecretKeyBytes.slice(0, 32)));
}
function decodeBase64(base64Str) {
    if (globalThis.Buffer) {
        return new Uint8Array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(base64Str, "base64"));
    }
    return Uint8Array.from(atob(base64Str), (m)=>m.codePointAt(0));
}
function encodeBase64(bytes) {
    if (globalThis.Buffer) {
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$buffer$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Buffer"].from(bytes).toString("base64");
    }
    return btoa(Array.from(bytes, (x)=>String.fromCodePoint(x)).join(""));
}
function concatUint8array(arrayOne, arrayTwo) {
    const mergedArray = new Uint8Array(arrayOne.length + arrayTwo.length);
    mergedArray.set(arrayOne);
    mergedArray.set(arrayTwo, arrayOne.length);
    return mergedArray;
}
// src/encrDecr.ts
var SIGNATURE_PREFIX = "APTOS::IDENTITY_CONNECT";
function convertEd25519PublicKeyToX25519PublicKey(ed25519PublicKey, errorKeyName) {
    const x25519PublicKey = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ed2curve$2f$ed2curve$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].convertPublicKey(ed25519PublicKey.key.slice(0, 32));
    if (!x25519PublicKey) throw new Error(`${errorKeyName} is not a valid Ed25519 public key`);
    return toKey(x25519PublicKey, "X25519PublicKey" /* X25519PublicKey */ );
}
function convertEd25519SecretKeyToX25519SecretKey(ed25519SecretKey) {
    const x25519SecretKey = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ed2curve$2f$ed2curve$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].convertSecretKey(ed25519SecretKey.key.slice(0, 32));
    return toKey(x25519SecretKey, "X25519SecretKey" /* X25519SecretKey */ );
}
function serializeEncryptionResult(enc) {
    return {
        nonceB64: encodeBase64(enc.nonce),
        securedB64: encodeBase64(enc.secured)
    };
}
function deserializeEncryptionResult(enc) {
    return {
        nonce: decodeBase64(enc.nonceB64),
        secured: decodeBase64(enc.securedB64)
    };
}
function decryptSerializedEncryptionResult(senderX25519PublicKey, receiverEd25519SecretKey, enc) {
    const des = deserializeEncryptionResult(enc);
    return decryptObject(senderX25519PublicKey, receiverEd25519SecretKey, des.secured, des.nonce);
}
function decryptSerializedEncryptionResultDirect(senderX25519PublicKey, receiverX25519SecretKey, enc) {
    const des = deserializeEncryptionResult(enc);
    return decryptObjectDirect(senderX25519PublicKey, receiverX25519SecretKey, des.secured, des.nonce);
}
function encryptMessage(senderX25519SecretKey, receiverEd25519PublicKey, message) {
    const receiverX25519PublicKey = convertEd25519PublicKeyToX25519PublicKey(receiverEd25519PublicKey, "receiver public key");
    return encryptMessageDirect(senderX25519SecretKey, receiverX25519PublicKey, message);
}
function encryptMessageDirect(senderX25519SecretKey, receiverX25519PublicKey, message) {
    const nonce = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tweetnacl$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].randomBytes(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tweetnacl$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].box.nonceLength);
    const messageUint8 = new TextEncoder().encode(message);
    const secured = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tweetnacl$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].box(messageUint8, nonce, receiverX25519PublicKey.key, senderX25519SecretKey.key.slice(0, 32));
    return {
        nonce,
        secured
    };
}
function encryptObject(senderX25519SecretKey, receiverEd25519PublicKey, message) {
    const receiverX25519PublicKey = convertEd25519PublicKeyToX25519PublicKey(receiverEd25519PublicKey, "receiver public key");
    return encryptObjectDirect(senderX25519SecretKey, receiverX25519PublicKey, message);
}
function encryptObjectDirect(senderX25519SecretKey, receiverX25519PublicKey, message) {
    return encryptMessageDirect(senderX25519SecretKey, receiverX25519PublicKey, JSON.stringify(message));
}
function decryptMessage(senderX25519PublicKey, receiverEd25519SecretKey, securedMessage, nonce) {
    const receiverX25519SecretKey = convertEd25519SecretKeyToX25519SecretKey(receiverEd25519SecretKey);
    return decryptMessageDirect(senderX25519PublicKey, receiverX25519SecretKey, securedMessage, nonce);
}
function decryptMessageDirect(senderX25519PublicKey, receiverX25519SecretKey, securedMessage, nonce) {
    let decryptedUint8;
    try {
        decryptedUint8 = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tweetnacl$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].box.open(securedMessage, nonce, senderX25519PublicKey.key.slice(0, 32), receiverX25519SecretKey.key.slice(0, 32));
    } catch (e) {
        throw new DecryptionError(`Could not decrypt message: ${e.message}`);
    }
    if (!decryptedUint8) throw new DecryptionError("Could not decrypt message");
    return new TextDecoder().decode(decryptedUint8);
}
function decryptObject(senderX25519PublicKey, receiverEd25519SecretKey, securedMessage, nonce) {
    const receiverX25519SecretKey = convertEd25519SecretKeyToX25519SecretKey(receiverEd25519SecretKey);
    return decryptObjectDirect(senderX25519PublicKey, receiverX25519SecretKey, securedMessage, nonce);
}
function decryptObjectDirect(senderX25519PublicKey, receiverX25519SecretKey, securedMessage, nonce) {
    const decryptedStr = decryptMessageDirect(senderX25519PublicKey, receiverX25519SecretKey, securedMessage, nonce);
    return JSON.parse(decryptedStr);
}
function messageHash(message, purpose) {
    const signaturePrefixHash = new Uint8Array((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$noble$2f$hashes$2f$esm$2f$sha3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sha3_256"])(`${SIGNATURE_PREFIX}::${purpose}::`));
    return new Uint8Array((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$noble$2f$hashes$2f$esm$2f$sha3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sha3_256"])(concatUint8array(signaturePrefixHash, message)));
}
function signWithEd25519SecretKey(message, signingEd25519SecretKey, purpose) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tweetnacl$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].sign.detached(messageHash(message, purpose), signingEd25519SecretKey.key);
}
function makeEd25519SecretKeySignCallbackNoDomainSeparation(signingEd25519SecretKey) {
    return async (message)=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__d__as__Ed25519Signature$3e$__["Ed25519Signature"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tweetnacl$2f$nacl$2d$fast$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].sign.detached(message, signingEd25519SecretKey.key));
}
function verifySignature(message, signature, signingPublicKey, purpose) {
    return signingPublicKey.verifySignature({
        message: messageHash(message, purpose),
        signature
    });
}
function hashAndVerifySignature(message, signature, signingPublicKey, purpose) {
    const messageUint8 = message instanceof Uint8Array ? message : new TextEncoder().encode(message);
    const messageUint8Hash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$noble$2f$hashes$2f$esm$2f$sha3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sha3_256"])(messageUint8);
    return verifySignature(messageUint8Hash, signature, signingPublicKey, purpose);
}
;
;
var REQUIRED_FIELDS = [
    "receiverEd25519PublicKeyB64",
    "senderEd25519PublicKeyB64",
    "senderX25519PublicKeyB64",
    "sequence",
    "timestampMillis"
].sort();
function ensurePrivatePublicFieldsDisjoint(privateMessage, publicMessage) {
    const intersection = Object.keys(privateMessage).filter((x)=>Object.keys(publicMessage).includes(x));
    if (intersection.length > 0) {
        const field = intersection[0];
        throw new EnvelopeMessageMismatchError(`Field ${field} appears in both private and public message fields`, field);
    }
}
function ensureMetadataFields(message) {
    const messageKeys = Object.keys(message).sort();
    const extraFields = messageKeys.filter((key)=>!REQUIRED_FIELDS.includes(key));
    const missingFields = REQUIRED_FIELDS.filter((key)=>!messageKeys.includes(key));
    if (extraFields.length > 0 || missingFields.length > 0) {
        let extraFieldsStr = extraFields.length > 0 ? `extra(${extraFields.join(", ")})` : "";
        const missingFieldsStr = missingFields.length > 0 ? `missing(${missingFields.join(", ")})` : "";
        extraFieldsStr = extraFieldsStr.length > 0 && missingFieldsStr.length > 0 ? `${extraFieldsStr}, ` : extraFieldsStr;
        throw new EnvelopeMessageMismatchError(`PublicMessage metadata fields do not conform to spec: ${extraFieldsStr}${missingFieldsStr}`, "_metadata");
    }
}
function deserializeTransportEnvelope(transportEnvelope) {
    const publicMessage = JSON.parse(transportEnvelope.serializedPublicMessage);
    return {
        ...transportEnvelope,
        publicMessage
    };
}
function encryptAndSignEnvelope(senderEd25519SecretKey, senderEd25519PublicKey, receiverEd25519PublicKey, sequence, publicMessage, privateMessage) {
    const senderEphemeralX25519KeyPair = createX25519KeyPair();
    const metadata = constructMetadata(senderEd25519PublicKey, receiverEd25519PublicKey, sequence, senderEphemeralX25519KeyPair.publicKey);
    ensureMetadataFields(metadata);
    ensurePrivatePublicFieldsDisjoint(privateMessage, publicMessage);
    return dangerouslyEncryptAndSignEnvelopeUnvalidated(senderEd25519SecretKey, receiverEd25519PublicKey, metadata, privateMessage, publicMessage, senderEphemeralX25519KeyPair);
}
function constructMetadata(senderEd25519PublicKey, receiverEd25519PublicKey, sequence, senderEphemeralX25519PublicKey) {
    return {
        receiverEd25519PublicKeyB64: encodeBase64(receiverEd25519PublicKey.key),
        senderEd25519PublicKeyB64: encodeBase64(senderEd25519PublicKey.key),
        senderX25519PublicKeyB64: encodeBase64(senderEphemeralX25519PublicKey.key),
        sequence,
        timestampMillis: Date.now()
    };
}
function dangerouslyEncryptAndSignEnvelopeUnvalidated(senderEd25519SecretKey, receiverEd25519PublicKey, metadata, privateMessage, publicMessage, senderEphemeralX25519KeyPair) {
    const encryptionResult = encryptObject(senderEphemeralX25519KeyPair.secretKey, receiverEd25519PublicKey, privateMessage);
    const encryptedPrivateMessage = serializeEncryptionResult(encryptionResult);
    const encryptedPrivateMessageBytes = decodeBase64(encryptedPrivateMessage.securedB64);
    const serializedPublicMessage = JSON.stringify({
        ...publicMessage,
        _metadata: metadata
    });
    const publicMessageBytes = new TextEncoder().encode(serializedPublicMessage);
    const messageSignature = signEnvelope(publicMessageBytes, encryptedPrivateMessageBytes, senderEd25519SecretKey);
    return {
        encryptedPrivateMessage,
        messageSignature,
        serializedPublicMessage
    };
}
function combineHashedEnvelopeMessageBytes(publicMessageBytes, privateMessageBytes) {
    const publicMessageBytesHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$noble$2f$hashes$2f$esm$2f$sha3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sha3_256"])(publicMessageBytes);
    const privateMessageBytesHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$noble$2f$hashes$2f$esm$2f$sha3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sha3_256"])(privateMessageBytes);
    const combinedHash = new Uint8Array(publicMessageBytesHash.length + privateMessageBytesHash.length);
    combinedHash.set(publicMessageBytesHash);
    combinedHash.set(privateMessageBytesHash, publicMessageBytesHash.length);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$noble$2f$hashes$2f$esm$2f$sha3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sha3_256"])(combinedHash);
}
function signEnvelope(publicMessageBytes, privateMessageBytes, senderEd25519SecretKey) {
    const messageHashBytes = combineHashedEnvelopeMessageBytes(publicMessageBytes, privateMessageBytes);
    const signatureBytes = signWithEd25519SecretKey(messageHashBytes, senderEd25519SecretKey, "SECURED_ENVELOPE");
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__["Hex"].fromHexInput(signatureBytes).toString();
}
function verifyEnvelopeSignature(publicMessageBytes, privateMessageBytes, messageSignatureInput, senderEd25519PublicKey) {
    const messageSignature = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__d__as__Ed25519Signature$3e$__["Ed25519Signature"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__["Hex"].fromHexInput(messageSignatureInput).toUint8Array());
    const senderPublicKey = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Ed25519PublicKey$3e$__["Ed25519PublicKey"](senderEd25519PublicKey.key);
    const messageHashBytes = combineHashedEnvelopeMessageBytes(publicMessageBytes, privateMessageBytes);
    const messageVerified = verifySignature(messageHashBytes, messageSignature, senderPublicKey, "SECURED_ENVELOPE");
    if (!messageVerified) {
        throw new EnvelopeMessageMismatchError("Could not verify SecuredEnvelope signature", "messageSignature");
    }
}
function decryptEnvelope(senderEd25519PublicKey, receiverEd25519SecretKey, message) {
    const { encryptedPrivateMessage, messageSignature, serializedPublicMessage } = message;
    const publicMessage = JSON.parse(serializedPublicMessage);
    const rawPrivateMessage = decodeBase64(encryptedPrivateMessage.securedB64);
    const rawPublicMessage = new TextEncoder().encode(serializedPublicMessage);
    verifyEnvelopeSignature(rawPublicMessage, rawPrivateMessage, messageSignature, senderEd25519PublicKey);
    const senderEd25519PublicKeyB64 = encodeBase64(senderEd25519PublicKey.key);
    const expectedPublicKeyB64 = publicMessage._metadata.senderEd25519PublicKeyB64;
    if (senderEd25519PublicKeyB64 !== expectedPublicKeyB64) {
        throw new EnvelopeMessageMismatchError("senderEd25519PublicKey in envelope does not match provided receiverEd25519SecretKey", "senderPublicKey");
    }
    const senderX25519PublicKeyBytes = decodeBase64(publicMessage._metadata.senderX25519PublicKeyB64);
    const senderX25519PublicKey = toKey(senderX25519PublicKeyBytes, "X25519PublicKey" /* X25519PublicKey */ );
    const encryptionResult = deserializeEncryptionResult(encryptedPrivateMessage);
    const privateMessage = decryptObject(senderX25519PublicKey, receiverEd25519SecretKey, encryptionResult.secured, encryptionResult.nonce);
    ensureMetadataFields(publicMessage._metadata);
    ensurePrivatePublicFieldsDisjoint(privateMessage, publicMessage);
    return {
        messageSignature,
        privateMessage,
        publicMessage
    };
}
;
;
function serializePublicKeyB64(publicKey) {
    const serializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$EBMEXURY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Serializer$3e$__["Serializer"]();
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializePublicKey"])(serializer, publicKey);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bytesToBase64"])(serializer.toUint8Array());
}
function deserializePublicKeyB64(publicKeyB64) {
    const serializedPublicKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["base64ToBytes"])(publicKeyB64);
    const deserializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__["Deserializer"](serializedPublicKey);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["deserializePublicKey"])(deserializer);
}
function deserializeEd25519PublicKeyB64(ed25519PublicKeyB64) {
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Ed25519PublicKey$3e$__["Ed25519PublicKey"](decodeBase64(ed25519PublicKeyB64));
}
function serializeSignatureB64(signature) {
    const serializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$EBMEXURY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Serializer$3e$__["Serializer"]();
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeSignature"])(serializer, signature);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bytesToBase64"])(serializer.toUint8Array());
}
function deserializeSignatureB64(signatureB64) {
    const serializedSignature = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["base64ToBytes"])(signatureB64);
    const deserializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__["Deserializer"](serializedSignature);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["deserializeSignature"])(deserializer);
}
function deserializeEd25519SignatureB64(ed25519SignatureB64) {
    const signatureBytes = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__["Hex"].fromHexInput(ed25519SignatureB64).toUint8Array();
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__d__as__Ed25519Signature$3e$__["Ed25519Signature"](signatureBytes);
}
function publicKeyB64FromEd25519PublicKeyB64(ed25519PublicKeyB64) {
    const publicKey = deserializeEd25519PublicKeyB64(ed25519PublicKeyB64);
    return serializePublicKeyB64(publicKey);
}
;
;
var AccountConnectionAction = /* @__PURE__ */ ((AccountConnectionAction2)=>{
    AccountConnectionAction2["ADD"] = "add";
    AccountConnectionAction2["REMOVE"] = "remove";
    return AccountConnectionAction2;
})(AccountConnectionAction || {});
function deriveAccountTransportEd25519Keypair(ed25519SecretKeyOrSignCallback, publicKey) {
    const publicKeyBytes = publicKey instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$WSR5EBJM$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__PublicKey$3e$__["PublicKey"] ? publicKey.toUint8Array() : publicKey.key;
    if (ed25519SecretKeyOrSignCallback instanceof Function) {
        const seedGeneratorBytes = messageHash(publicKeyBytes, "TRANSPORT_KEYPAIR");
        const signature = ed25519SecretKeyOrSignCallback(seedGeneratorBytes);
        if (signature instanceof Promise) {
            return signature.then((value)=>ed25519KeypairFromSecret(value.toUint8Array()));
        }
        return ed25519KeypairFromSecret(signature.toUint8Array());
    }
    const seedBytes = signWithEd25519SecretKey(publicKeyBytes, ed25519SecretKeyOrSignCallback, "TRANSPORT_KEYPAIR");
    return ed25519KeypairFromSecret(seedBytes);
}
function createSerializedAccountInfo(...[signCallback, publicKey, transportEd25519PublicKey, action, intentId, accountAddress]) {
    const authKey = publicKey.authKey();
    const finalAccountAddress = accountAddress || authKey.derivedAddress().toString();
    const publicKeyB64 = serializePublicKeyB64(publicKey);
    const accountInfo = {
        accountAddress: finalAccountAddress,
        action,
        intentId,
        publicKeyB64,
        timestampMillis: Date.now(),
        transportEd25519PublicKeyB64: encodeBase64(transportEd25519PublicKey.key)
    };
    const accountInfoSerialized = JSON.stringify(accountInfo);
    const accountInfoBytes = new TextEncoder().encode(accountInfoSerialized);
    const accountInfoHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$noble$2f$hashes$2f$esm$2f$sha3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sha3_256"])(accountInfoBytes);
    const signature = signCallback(messageHash(accountInfoHash, "ACCOUNT_INFO"));
    if (signature instanceof Promise) {
        return signature.then((value)=>({
                accountInfoSerialized,
                signatureB64: serializeSignatureB64(value)
            }));
    }
    return {
        accountInfoSerialized,
        signatureB64: serializeSignatureB64(signature)
    };
}
async function aptosAccountToSerializedInfo(account, intentId) {
    const signCallback = async (data)=>account.sign(data);
    const transportKey = await deriveAccountTransportEd25519Keypair(signCallback, account.publicKey);
    return createSerializedAccountInfo(signCallback, account.publicKey, transportKey.publicKey, "add" /* ADD */ , intentId);
}
;
 //# sourceMappingURL=index.mjs.map
}}),
"[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@identity-connect/dapp-sdk/node_modules/@aptos-connect/web-transport/dist/index.mjs [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
// src/index.ts
__turbopack_context__.s({
    "WebWalletTransport": (()=>WebWalletTransport)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@aptos-connect/wallet-api/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/index.mjs [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-FLZPUYXQ.mjs [app-client] (ecmascript) <export a as Deserializer>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$EBMEXURY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Serializer$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-EBMEXURY.mjs [app-client] (ecmascript) <export b as Serializer>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$telegram$2d$apps$2f$bridge$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@telegram-apps/bridge/dist/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$browser$2f$v4$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__v4$3e$__ = __turbopack_context__.i("[project]/node_modules/uuid/dist/esm-browser/v4.js [app-client] (ecmascript) <export default as v4>");
// src/telegram/getClientIdentityKey.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__Ed25519PrivateKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-UQWF24SS.mjs [app-client] (ecmascript) <export c as Ed25519PrivateKey>");
;
;
var DEFAULT_PROMPT_SIZE = {
    height: 695,
    width: 465
};
var PROMPT_POLLER_INTERVAL = 500;
var dismissalSerializedResponse = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ConnectResponse"].serialize({
    status: "dismissed"
});
var PromptUnauthorizedError = class extends Error {
    constructor(){
        super("Unauthorized");
    }
};
function openPrompt(url, size = DEFAULT_PROMPT_SIZE) {
    const { height, width } = size;
    const options = {
        height,
        left: window.screenLeft + Math.round((window.outerWidth - width) / 2),
        popup: true,
        top: window.screenTop + Math.round((window.outerHeight - height) / 2),
        width
    };
    const strOptions = Object.entries(options).map(([key, value])=>`${key}=${JSON.stringify(value)}`).reduce((acc, entry)=>`${acc}, ${entry}`);
    const href = url instanceof URL ? url.href : url;
    const promptWindow = window.open(href, void 0, strOptions);
    if (promptWindow === null) {
        throw new Error("Couldn't open prompt");
    }
    return promptWindow;
}
async function waitForPromptResponse(baseUrl, promptWindow, request) {
    return new Promise((resolve, reject)=>{
        const listeners = {
            onMessage: (message)=>{
                if (message.source !== promptWindow || message.origin !== baseUrl) {
                    return;
                }
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isTypedMessage"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PromptUnauthorizedErrorMessage"], message.data)) {
                    window.removeEventListener("message", listeners.onMessage);
                    clearTimeout(listeners.promptPollerId);
                    reject(new PromptUnauthorizedError());
                    return;
                }
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isTypedMessage"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PromptConnectionRequestMessage"], message.data)) {
                    promptWindow.postMessage(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PromptConnectionResponseMessage"](request), baseUrl);
                    return;
                }
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isTypedMessage"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PromptApprovalResponseMessage"], message.data)) {
                    window.removeEventListener("message", listeners.onMessage);
                    clearTimeout(listeners.promptPollerId);
                    resolve(message.data.serializedValue);
                }
            },
            promptPollerId: setInterval(()=>{
                if (promptWindow.closed) {
                    window.removeEventListener("message", listeners.onMessage);
                    clearTimeout(listeners.promptPollerId);
                    resolve(dismissalSerializedResponse);
                }
            }, PROMPT_POLLER_INTERVAL)
        };
        window.addEventListener("message", listeners.onMessage);
    });
}
;
;
var localDappStateKey = "@aptos-connect/dapp-local-state";
function serializeLocalDappState(state) {
    const serializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$EBMEXURY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Serializer$3e$__["Serializer"]();
    serializer.serializeU32AsUleb128(state.connectedAccounts.length);
    for (const account of state.connectedAccounts){
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeAccountInfo"])(serializer, account);
    }
    return serializer.toUint8Array();
}
function deserializeLocalDappState(serializedValue) {
    const deserializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__["Deserializer"](serializedValue);
    const connectedAccountsLength = deserializer.deserializeUleb128AsU32();
    const connectedAccounts = [];
    for(let i = 0; i < connectedAccountsLength; i += 1){
        connectedAccounts.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["deserializeAccountInfo"])(deserializer));
    }
    return {
        connectedAccounts
    };
}
function getState() {
    const encodedValue = window.localStorage.getItem(localDappStateKey);
    return encodedValue ? deserializeLocalDappState((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["base64ToBytes"])(encodedValue)) : {
        connectedAccounts: []
    };
}
function setState(state) {
    const serializedValue = serializeLocalDappState(state);
    const encodedValue = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bytesToBase64"])(serializedValue);
    window.localStorage.setItem(localDappStateKey, encodedValue);
}
function getConnectedAccounts() {
    const state = getState();
    return state.connectedAccounts;
}
function addConnectedAccount(account) {
    const { connectedAccounts, ...state } = getState();
    connectedAccounts.push(account);
    setState({
        ...state,
        connectedAccounts
    });
}
function removeConnectedAccount(address) {
    const { connectedAccounts, ...state } = getState();
    const index = connectedAccounts.findIndex((a)=>a.address.equals(address));
    if (index >= 0) {
        connectedAccounts.splice(index, 1);
    }
    setState({
        ...state,
        connectedAccounts
    });
}
;
;
;
;
async function createWalletRequest(baseUrl, request) {
    const encodedClientIdentityKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bytesToBase64url"])(request.clientIdentityKey.toUint8Array());
    const response = await fetch(`${baseUrl}/v1/dapp/clients/${encodedClientIdentityKey}/requests/`, {
        body: JSON.stringify({
            body: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeWalletRequestBody"])(request.body),
            id: request.id,
            signature: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bytesToBase64"])(request.signature.toUint8Array()),
            timestamp: request.timestamp
        }),
        headers: {
            Accept: "application/json",
            "Content-Type": "application/json"
        },
        method: "post"
    });
    if (!response.ok) {
        throw new Error("Failed creating the wallet request");
    }
}
;
var identityKeyStorageKey = "@aptos-connect/client-identity-key";
function getClientIdentityKey() {
    const serialized = window.localStorage.getItem(identityKeyStorageKey);
    if (serialized) {
        return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__Ed25519PrivateKey$3e$__["Ed25519PrivateKey"](serialized);
    }
    const identityKey = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__Ed25519PrivateKey$3e$__["Ed25519PrivateKey"].generate();
    window.localStorage.setItem(identityKeyStorageKey, identityKey.toString());
    return identityKey;
}
;
// src/telegram/smartPolling.ts
var ON_RESUME_DELAY = 300;
var FG_RESPONSE_POLLING_INTERVAL = 2e3;
var BG_RESPONSE_POLLING_INTERVAL = 3e3;
var POLLING_TIMEOUT = 5 * 6e4;
function waitFor(milliseconds) {
    let timeoutId;
    let cancel = ()=>{};
    const timer = new Promise((resolve)=>{
        timeoutId = setTimeout(resolve, milliseconds);
        cancel = ()=>{
            clearTimeout(timeoutId);
            resolve();
        };
    });
    timer.cancel = cancel;
    return timer;
}
async function smartPolling(callback) {
    let timer;
    let justResumed = false;
    let pollingInterval = BG_RESPONSE_POLLING_INTERVAL;
    const onWindowFocus = ()=>{
        justResumed = true;
        pollingInterval = FG_RESPONSE_POLLING_INTERVAL;
        timer?.cancel();
    };
    const onWindowBlur = ()=>{
        pollingInterval = BG_RESPONSE_POLLING_INTERVAL;
    };
    window.addEventListener("focus", onWindowFocus);
    window.addEventListener("blur", onWindowBlur);
    try {
        const startTime = Date.now();
        while(Date.now() - startTime < POLLING_TIMEOUT){
            timer = waitFor(pollingInterval);
            await timer;
            if (justResumed) {
                timer = waitFor(ON_RESUME_DELAY);
                await timer;
            }
            const response = await callback();
            if (response.status === 200) {
                return response;
            }
            justResumed = false;
        }
        throw new Error("Timeout");
    } finally{
        window.removeEventListener("focus", onWindowFocus);
        window.removeEventListener("blur", onWindowFocus);
    }
}
// src/telegram/getWalletResponse.ts
async function getWalletResponse(baseUrl, clientIdentityKey, requestId) {
    const encodedClientIdentityKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["bytesToBase64url"])(clientIdentityKey.toUint8Array());
    const url = new URL(`${baseUrl}/v1/dapp/clients/${encodedClientIdentityKey}/requests/${requestId}/response/`);
    const response = await smartPolling(()=>fetch(url, {
            headers: {
                Accept: "application/json"
            },
            method: "get"
        }));
    const responseBody = await response.json();
    const data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["base64ToBytes"])(responseBody.data.body);
    return {
        data
    };
}
// src/telegram/openTelegramPrompt.ts
async function openTelegramPrompt(args) {
    const { baseUrl, provider, request: body, tgWebAppUrl = "/AptosConnectBot/AptosConnect" } = args;
    const identityKey = getClientIdentityKey();
    const clientIdentityKey = identityKey.publicKey();
    const requestId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2d$browser$2f$v4$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__v4$3e$__["v4"])();
    const timestamp = Date.now();
    const challenge = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["makePopupWalletRequestChallenge"])({
        body,
        id: requestId,
        timestamp
    });
    const signature = identityKey.sign(challenge);
    const signedWalletRequest = {
        body,
        clientIdentityKey,
        id: requestId,
        signature,
        timestamp
    };
    let encodedRequest = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePopupWalletRequest"])(signedWalletRequest);
    if (encodedRequest.length > 1024) {
        void createWalletRequest(baseUrl, signedWalletRequest);
        encodedRequest = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePopupWalletRequest"])({
            clientIdentityKey,
            id: requestId,
            signature,
            timestamp
        });
    }
    const startParam = `prompt_${provider ?? ""}${encodedRequest}`;
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$telegram$2d$apps$2f$bridge$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["postEvent"])("web_app_open_tg_link", {
        path_full: `${tgWebAppUrl}?startapp=${startParam}`
    });
    return getWalletResponse(baseUrl, clientIdentityKey, requestId);
}
// src/telegram/index.ts
function isTelegramMiniApp() {
    return window.TelegramWebviewProxy !== void 0;
}
// src/index.ts
var WebWalletTransport = class {
    constructor(baseUrl, provider = "google", tgWebAppUrl){
        this.baseUrl = baseUrl;
        this.provider = provider;
        this.tgWebAppUrl = tgWebAppUrl;
        this.baseUrl = baseUrl;
    }
    async sendPromptRequest(request) {
        if (isTelegramMiniApp()) {
            return openTelegramPrompt({
                baseUrl: this.baseUrl,
                provider: this.provider,
                request,
                tgWebAppUrl: this.tgWebAppUrl
            });
        }
        const url = new URL(`${this.baseUrl}/prompt/`);
        url.searchParams.set("provider", this.provider);
        const prompt = openPrompt(url);
        return waitForPromptResponse(this.baseUrl, prompt, request);
    }
    async sendRequest(request) {
        switch(request.name){
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["IsConnectedRequest"].name:
                {
                    const connectedAccounts = getConnectedAccounts();
                    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["IsConnectedResponse"].serialize(connectedAccounts.length > 0);
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GetConnectedAccountsRequest"].name:
                {
                    const connectedAccounts = getConnectedAccounts();
                    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GetConnectedAccountsResponse"].serialize(connectedAccounts);
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ConnectRequest"].name:
                {
                    const serializedResponse = await this.sendPromptRequest(request);
                    const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ConnectResponse"].deserialize(serializedResponse);
                    if (response.args.status === "approved") {
                        const { account, pairing } = response.args.args;
                        if (pairing === void 0) {
                            addConnectedAccount(account);
                        }
                    }
                    return serializedResponse;
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignInRequest"].name:
                {
                    const serializedResponse = await this.sendPromptRequest(request);
                    const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignInResponse"].deserialize(serializedResponse, request.version);
                    if (response.args.status === "approved") {
                        const { account } = response.args.args;
                        addConnectedAccount(account);
                    }
                    return serializedResponse;
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DisconnectRequest"].name:
                {
                    const [activeAccount] = getConnectedAccounts();
                    if (activeAccount) {
                        removeConnectedAccount(activeAccount.address);
                    }
                    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DisconnectResponse"].serialize({});
                }
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignMessageRequest"].name:
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignTransactionRequest"].name:
            case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignAndSubmitTransactionRequest"].name:
                {
                    return this.sendPromptRequest(request);
                }
            default:
                {
                    throw new Error("Unexpected request");
                }
        }
    }
};
;
 //# sourceMappingURL=index.mjs.map
}}),
"[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@identity-connect/dapp-sdk/node_modules/@identity-connect/wallet-api/dist/index.mjs [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
// src/serialization/bcsSerialization.ts
__turbopack_context__.s({
    "bcsDeserialize": (()=>bcsDeserialize),
    "bcsSerialize": (()=>bcsSerialize),
    "deserializeJsonTransactionPayload": (()=>deserializeJsonTransactionPayload),
    "deserializeRawTransaction": (()=>deserializeRawTransaction),
    "deserializeSignAndSubmitTransactionRequestArgs": (()=>deserializeSignAndSubmitTransactionRequestArgs),
    "deserializeSignTransactionRequestArgs": (()=>deserializeSignTransactionRequestArgs),
    "deserializeSignTransactionResponseArgs": (()=>deserializeSignTransactionResponseArgs),
    "isBcsSerializable": (()=>isBcsSerializable),
    "makeFullMessage": (()=>makeFullMessage),
    "serializeJsonTransactionPayload": (()=>serializeJsonTransactionPayload),
    "serializeRawTransaction": (()=>serializeRawTransaction),
    "serializeSignAndSubmitTransactionRequestArgs": (()=>serializeSignAndSubmitTransactionRequestArgs),
    "serializeSignTransactionRequestArgs": (()=>serializeSignTransactionRequestArgs),
    "serializeSignTransactionResponseArgs": (()=>serializeSignTransactionResponseArgs)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/index.mjs [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-FLZPUYXQ.mjs [app-client] (ecmascript) <export a as Deserializer>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-STY74NUA.mjs [app-client] (ecmascript) <export b as Hex>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$aptos$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/aptos/dist/index.mjs [app-client] (ecmascript)");
// src/serialization/rawTxn.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__za__as__RawTransaction$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export za as RawTransaction>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Aa__as__RawTransactionWithData$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export Aa as RawTransactionWithData>");
// src/serialization/signAndSubmitTransactionRequestArgs.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__AccountAuthenticator$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export J as AccountAuthenticator>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ja__as__TransactionPayload$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export ja as TransactionPayload>");
;
;
function isBcsSerializableV1(value) {
    return value?.serialize !== void 0;
}
function isBcsSerializableV2(value) {
    return value?.serialize !== void 0 && value?.bcsToBytes !== void 0 && value?.bcsToHex !== void 0;
}
function isBcsSerializable(value) {
    return isBcsSerializableV1(value) || isBcsSerializableV2(value);
}
function bcsSerialize(serializable) {
    if (isBcsSerializableV2(serializable)) {
        return serializable.bcsToHex().toString();
    }
    const serializedValueBytes = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$aptos$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BCS"].bcsToBytes(serializable);
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__["Hex"].fromHexInput(serializedValueBytes).toString();
}
function bcsDeserialize(deserializableClass, serializedValue) {
    const serializedValueBytes = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__["Hex"].fromHexString(serializedValue).toUint8Array();
    const deserializer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__["Deserializer"](serializedValueBytes);
    return deserializableClass.deserialize(deserializer);
}
;
// src/serialization/error.ts
var UnexpectedValueError = class _UnexpectedValueError extends Error {
    constructor(message){
        super(message);
        this.name = "UnexpectedValueError";
        Object.setPrototypeOf(this, _UnexpectedValueError.prototype);
    }
};
// src/serialization/jsonPayload.ts
function isSerializedUint8Array(arg) {
    return arg?.type === "Uint8Array" && typeof arg?.value === "string";
}
function serializeEntryFunctionArg(arg) {
    if (arg instanceof Uint8Array) {
        return {
            type: "Uint8Array",
            value: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__["Hex"].fromHexInput(arg).toString()
        };
    }
    if (Array.isArray(arg)) {
        return arg.map(serializeEntryFunctionArg);
    }
    return arg;
}
function deserializeEntryFunctionArg(arg) {
    if (isSerializedUint8Array(arg)) {
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__["Hex"].fromHexInput(arg.value).toUint8Array();
    }
    if (Array.isArray(arg)) {
        return arg.map(deserializeEntryFunctionArg);
    }
    return arg;
}
function serializeEntryFunctionPayload(payload) {
    const normalizedArgs = payload.arguments.map(serializeEntryFunctionArg);
    return {
        ...payload,
        arguments: normalizedArgs,
        type: "entry_function_payload"
    };
}
function deserializeEntryFunctionPayload(payload) {
    const deserializedArgs = payload.arguments.map(deserializeEntryFunctionArg);
    return {
        ...payload,
        arguments: deserializedArgs,
        type: "entry_function_payload"
    };
}
function serializeJsonTransactionPayload(payload) {
    if (payload.type === "entry_function_payload" || payload.type === void 0) {
        return serializeEntryFunctionPayload(payload);
    }
    if (payload.type === "multisig_payload") {
        const innerPayload = payload.transaction_payload !== void 0 ? serializeEntryFunctionPayload(payload.transaction_payload) : void 0;
        return {
            ...payload,
            transaction_payload: innerPayload
        };
    }
    throw new UnexpectedValueError();
}
function deserializeJsonTransactionPayload(payload) {
    if (payload.type === "entry_function_payload" || payload.type === void 0) {
        return deserializeEntryFunctionPayload(payload);
    }
    if (payload.type === "multisig_payload") {
        const innerPayload = payload.transaction_payload !== void 0 ? deserializeEntryFunctionPayload(payload.transaction_payload) : void 0;
        return {
            ...payload,
            transaction_payload: innerPayload
        };
    }
    throw new UnexpectedValueError();
}
;
function serializeRawTransaction(rawTxn) {
    const value = bcsSerialize(rawTxn);
    if ("fee_payer_address" in rawTxn) {
        return {
            type: "fee_payer_raw_txn",
            value
        };
    }
    if ("secondary_signer_addresses" in rawTxn) {
        return {
            type: "multi_agent_raw_txn",
            value
        };
    }
    if ("chain_id" in rawTxn) {
        return {
            type: "raw_txn",
            value
        };
    }
    throw new UnexpectedValueError("Invalid raw transaction type");
}
function deserializeRawTransaction(serialized) {
    switch(serialized.type){
        case "raw_txn":
            return bcsDeserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__za__as__RawTransaction$3e$__["RawTransaction"], serialized.value);
        case "fee_payer_raw_txn":
            return bcsDeserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Aa__as__RawTransactionWithData$3e$__["RawTransactionWithData"], serialized.value);
        case "multi_agent_raw_txn":
            return bcsDeserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Aa__as__RawTransactionWithData$3e$__["RawTransactionWithData"], serialized.value);
        default:
            throw new UnexpectedValueError("Invalid raw transaction type");
    }
}
;
function serializeSignAndSubmitTransactionRequestArgs(args) {
    if ("payload" in args) {
        const serializedPayload = isBcsSerializable(args.payload) ? bcsSerialize(args.payload) : serializeJsonTransactionPayload(args.payload);
        return {
            options: args.options,
            payload: serializedPayload
        };
    }
    if ("feePayerAuthenticator" in args) {
        return {
            feePayerAuthenticator: bcsSerialize(args.feePayerAuthenticator),
            rawTxn: serializeRawTransaction(args.rawTxn)
        };
    }
    if ("rawTxn" in args) {
        return {
            rawTxn: serializeRawTransaction(args.rawTxn)
        };
    }
    throw new UnexpectedValueError();
}
function deserializeSignAndSubmitTransactionRequestArgs(args) {
    if ("payload" in args) {
        const payload = typeof args.payload === "string" ? bcsDeserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ja__as__TransactionPayload$3e$__["TransactionPayload"], args.payload) : deserializeJsonTransactionPayload(args.payload);
        return {
            options: args.options,
            payload
        };
    }
    if ("feePayerAuthenticator" in args) {
        const deserializedRawTxn = deserializeRawTransaction(args.rawTxn);
        const feePayerAuthenticator = bcsDeserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__AccountAuthenticator$3e$__["AccountAuthenticator"], args.feePayerAuthenticator);
        return {
            feePayerAuthenticator,
            rawTxn: deserializedRawTxn
        };
    }
    if ("rawTxn" in args) {
        const deserializedRawTxn = deserializeRawTransaction(args.rawTxn);
        return {
            rawTxn: deserializedRawTxn
        };
    }
    throw new UnexpectedValueError();
}
;
function serializeSignTransactionRequestArgs(args) {
    if ("payload" in args) {
        const serializedPayload = isBcsSerializable(args.payload) ? bcsSerialize(args.payload) : serializeJsonTransactionPayload(args.payload);
        return {
            options: args.options,
            payload: serializedPayload
        };
    }
    if ("rawTxn" in args) {
        const serializedRawTxn = serializeRawTransaction(args.rawTxn);
        return {
            rawTxn: serializedRawTxn
        };
    }
    throw new UnexpectedValueError();
}
function deserializeSignTransactionRequestArgs(args) {
    if ("payload" in args) {
        const payload = typeof args.payload === "string" ? bcsDeserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ja__as__TransactionPayload$3e$__["TransactionPayload"], args.payload) : deserializeJsonTransactionPayload(args.payload);
        return {
            options: args.options,
            payload
        };
    }
    if ("rawTxn" in args) {
        const deserializedRawTxn = deserializeRawTransaction(args.rawTxn);
        return {
            rawTxn: deserializedRawTxn
        };
    }
    throw new UnexpectedValueError();
}
;
function serializeSignTransactionResponseArgs(args) {
    const accountAuthenticator = bcsSerialize(args.accountAuthenticator);
    if ("rawTxn" in args) {
        const rawTxn = bcsSerialize(args.rawTxn);
        return {
            accountAuthenticator,
            rawTxn
        };
    }
    return {
        accountAuthenticator
    };
}
function deserializeSignTransactionResponseArgs(args) {
    const accountAuthenticator = bcsDeserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__AccountAuthenticator$3e$__["AccountAuthenticator"], args.accountAuthenticator);
    if ("rawTxn" in args) {
        const rawTxn = bcsDeserialize(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__za__as__RawTransaction$3e$__["RawTransaction"], args.rawTxn);
        return {
            accountAuthenticator,
            rawTxn
        };
    }
    return {
        accountAuthenticator
    };
}
// src/utils/makeFullMessage.ts
var prefix = "APTOS";
function makeFullMessage(params, flags) {
    let fullMessage = prefix;
    if (flags.address) {
        fullMessage += `
address: ${params.address}`;
    }
    if (flags.application) {
        fullMessage += `
application: ${params.application}`;
    }
    if (flags.chainId) {
        fullMessage += `
chainId: ${params.chainId}`;
    }
    fullMessage += `
message: ${params.message}`;
    fullMessage += `
nonce: ${params.nonce}`;
    return {
        fullMessage,
        prefix
    };
}
;
 //# sourceMappingURL=index.mjs.map
}}),
"[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@identity-connect/dapp-sdk/dist/index.mjs [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
// src/ACDappClient.ts
__turbopack_context__.s({
    "ACDappClient": (()=>ACDappClient),
    "ACKeylessClient": (()=>ACKeylessClient),
    "DAPP_PAIRINGS_WINDOW_STORAGE_KEY": (()=>DAPP_PAIRINGS_WINDOW_STORAGE_KEY),
    "ICDappClient": (()=>ICDappClient),
    "windowStateAccessors": (()=>windowStateAccessors)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@aptos-connect/wallet-api/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$dapp$2d$sdk$2f$node_modules$2f40$aptos$2d$connect$2f$web$2d$transport$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@identity-connect/dapp-sdk/node_modules/@aptos-connect/web-transport/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/index.mjs [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-RGKRCZ36.mjs [app-client] (ecmascript) <export b as AccountAddress>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__B__as__AnySignature$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export B as AnySignature>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$Y7ZQTLH4$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosConfig$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-Y7ZQTLH4.mjs [app-client] (ecmascript) <export a as AptosConfig>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-FLZPUYXQ.mjs [app-client] (ecmascript) <export a as Deserializer>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__d__as__Ed25519Signature$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-UQWF24SS.mjs [app-client] (ecmascript) <export d as Ed25519Signature>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Ca__as__FeePayerRawTransaction$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export Ca as FeePayerRawTransaction>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Nb__as__generateRawTransaction$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export Nb as generateRawTransaction>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-STY74NUA.mjs [app-client] (ecmascript) <export b as Hex>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$identity$2d$connect$2f$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@identity-connect/api/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@identity-connect/crypto/dist/index.mjs [app-client] (ecmascript)");
// src/conversion.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Jb__as__generateTransactionPayload$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export Jb as generateTransactionPayload>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Kb__as__generateTransactionPayloadWithABI$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export Kb as generateTransactionPayloadWithABI>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$dapp$2d$sdk$2f$node_modules$2f40$identity$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@identity-connect/dapp-sdk/node_modules/@identity-connect/wallet-api/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/axios/lib/axios.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/axios/index.js [app-client] (ecmascript) <locals>");
;
;
;
;
;
// src/constants.ts
var DEFAULT_FRONTEND_URL = "https://aptosconnect.app";
;
function convertToSerializableArgument(argument) {
    if (argument === void 0 || argument === null) {
        return argument;
    }
    if (Array.isArray(argument)) {
        return argument.map((subArgument)=>convertToSerializableArgument(subArgument));
    }
    if (typeof argument === "string" || typeof argument === "number" || typeof argument === "boolean" || argument instanceof Uint8Array) {
        return argument;
    }
    if (typeof argument === "bigint") {
        return argument.toString();
    }
    if (argument instanceof ArrayBuffer) {
        return new Uint8Array(argument);
    }
    if ("values" in argument) {
        return argument.values.map((subArgument)=>convertToSerializableArgument(subArgument));
    }
    if ("data" in argument) {
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"].from(argument.data).toString();
    }
    if (argument.value === void 0) {
        return void 0;
    }
    if (typeof argument.value === "string" || typeof argument.value === "number" || typeof argument.value === "boolean" || argument.value instanceof Uint8Array) {
        return argument.value;
    }
    if (typeof argument.value === "bigint") {
        return argument.value.toString();
    }
    throw new Error("Unexpected argument");
}
function normalizePayloadForIC(payload, aptosConfig) {
    if ("bcsToBytes" in payload) {
        return payload;
    }
    if ("bytecode" in payload) {
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Jb__as__generateTransactionPayload$3e$__["generateTransactionPayload"])(payload);
    }
    if (aptosConfig) {
        return payload.abi !== void 0 ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Kb__as__generateTransactionPayloadWithABI$3e$__["generateTransactionPayloadWithABI"])({
            ...payload,
            abi: payload.abi
        }) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Jb__as__generateTransactionPayload$3e$__["generateTransactionPayload"])({
            aptosConfig,
            ...payload
        });
    }
    const entryFunctionPayload = {
        arguments: payload.functionArguments.map(convertToSerializableArgument),
        function: payload.function,
        type: "entry_function_payload",
        type_arguments: (payload.typeArguments ?? []).map((ta)=>ta.toString())
    };
    return "multisigAddress" in payload ? {
        multisig_address: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"].from(payload.multisigAddress).toString(),
        transaction_payload: entryFunctionPayload,
        type: "multisig_payload"
    } : entryFunctionPayload;
}
;
;
;
;
;
// src/errors.ts
var SignatureRequestError = class _SignatureRequestError extends Error {
    constructor(status){
        super(status);
        this.name = "SignatureRequestError";
        Object.setPrototypeOf(this, _SignatureRequestError.prototype);
    }
};
var UnexpectedSignatureResponseError = class _UnexpectedSignatureResponseError extends Error {
    constructor(missingFields){
        const message = `Missing the following fields: ${missingFields.join(", ")}`;
        super(message);
        this.name = "UnexpectedSignatureResponseError";
        Object.setPrototypeOf(this, _UnexpectedSignatureResponseError.prototype);
    }
};
var PairingExpiredError = class _PairingExpiredError extends Error {
    constructor(){
        super();
        this.name = "PairingExpiredError";
        Object.setPrototypeOf(this, _PairingExpiredError.prototype);
    }
};
var UnregisteredDappError = class _UnregisteredDappError extends Error {
    constructor(){
        super("Dapp ID is invalid or not associated with a registered Dapp.");
        this.name = "UnregisteredDappError";
        Object.setPrototypeOf(this, _UnregisteredDappError.prototype);
    }
};
// src/state.ts
var DAPP_PAIRINGS_WINDOW_STORAGE_KEY = "icDappPairings";
var windowStateAccessors = {
    async get (address) {
        const pairings = await this.getAll();
        return pairings[address];
    },
    async getAll () {
        const serialized = window.localStorage.getItem(DAPP_PAIRINGS_WINDOW_STORAGE_KEY);
        return serialized ? JSON.parse(serialized) : {};
    },
    async update (address, pairing) {
        const pairings = await this.getAll();
        if (pairing === void 0) {
            delete pairings[address];
        } else {
            pairings[address] = pairing;
        }
        const newSerialized = JSON.stringify(pairings);
        window.localStorage.setItem(DAPP_PAIRINGS_WINDOW_STORAGE_KEY, newSerialized);
    }
};
// src/utils.ts
var SIGN_MESSAGE_RESPONSE_REQUIRED_FIELDS = [
    "address",
    "application",
    "chainId",
    "fullMessage",
    "message",
    "nonce",
    "prefix",
    "signature"
];
function validateSignMessageResponse(response) {
    const providedFields = new Set(Object.keys(response));
    const missingFields = SIGN_MESSAGE_RESPONSE_REQUIRED_FIELDS.filter((field)=>!providedFields.has(field));
    if (missingFields.length > 0) {
        throw new UnexpectedSignatureResponseError(missingFields);
    }
}
var SIGN_AND_SUBMIT_TRANSACTION_RESPONSE_REQUIRED_FIELDS = [
    "hash"
];
function validateSignAndSubmitTransactionResponse(response) {
    const providedFields = new Set(Object.keys(response));
    const missingFields = SIGN_AND_SUBMIT_TRANSACTION_RESPONSE_REQUIRED_FIELDS.filter((field)=>!providedFields.has(field));
    if (missingFields.length > 0) {
        throw new UnexpectedSignatureResponseError(missingFields);
    }
}
// src/PairingClient.ts
var API_VERSION = "0.2.0";
var SIGNING_REQUEST_POLLING_INTERVAL = 2500;
var SEQUENCE_NUMBER_MISMATCH_PATTERN = /^Sequence number mismatch, expected (?:\S+ to be )?(\d+)/;
async function waitFor(milliseconds) {
    return new Promise((resolve)=>{
        setTimeout(resolve, milliseconds);
    });
}
async function withRetries(requestFn, onError, retries = 1) {
    for(let i = 0; i < retries; i += 1){
        try {
            return await requestFn();
        } catch (err) {
            onError(err);
        }
    }
    return requestFn();
}
var ACPairingClient = class {
    constructor({ accessors = windowStateAccessors, axiosConfig, defaultNetworkName = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$identity$2d$connect$2f$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NetworkName"].MAINNET } = {}){
        // endregion
        this.onDisconnectListeners = /* @__PURE__ */ new Set();
        this.accessors = accessors;
        this.defaultNetworkName = defaultNetworkName;
        this.axiosInstance = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].create({
            baseURL: DEFAULT_FRONTEND_URL,
            ...axiosConfig
        });
        const isClientSideRendering = typeof window !== "undefined";
        this.initPromise = isClientSideRendering ? this.syncFirstPairing() : void 0;
    }
    async getPairing(id) {
        const response = await this.axiosInstance.get(`v1/pairing/${id}/`);
        return response.data.data.pairing;
    }
    async syncFirstPairing() {
        const pairings = await this.accessors.getAll();
        const firstPairing = Object.values(pairings)[0];
        if (firstPairing === void 0) {
            return;
        }
        try {
            const { dappSpecificWallet, maxDappSequenceNumber } = await this.getPairing(firstPairing.pairingId);
            await this.accessors.update(firstPairing.accountAddress, {
                ...firstPairing,
                currSequenceNumber: maxDappSequenceNumber,
                dappWalletId: dappSpecificWallet?.id
            });
        } catch (err) {
            await this.accessors.update(firstPairing.accountAddress, void 0);
        }
    }
    async createSigningRequest(pairing, type, networkName, requestBody) {
        const dappEd25519SecretKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeBase64"])(pairing.dappEd25519SecretKeyB64);
        const dappEd25519PublicKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeBase64"])(pairing.dappEd25519PublicKeyB64);
        const accountTransportEd25519PublicKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeBase64"])(pairing.accountTransportEd25519PublicKeyB64);
        let sequenceNumber = pairing.currSequenceNumber + 1;
        return withRetries(async ()=>{
            const requestEnvelope = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encryptAndSignEnvelope"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toKey"])(dappEd25519SecretKey, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyTypes"].Ed25519SecretKey), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toKey"])(dappEd25519PublicKey, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyTypes"].Ed25519PublicKey), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toKey"])(accountTransportEd25519PublicKey, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyTypes"].Ed25519PublicKey), sequenceNumber, {
                apiVersion: API_VERSION,
                networkName,
                requestType: type
            }, requestBody);
            const response = await this.axiosInstance.post(`v1/pairing/${pairing.pairingId}/signing-request/`, requestEnvelope);
            await this.accessors.update(pairing.accountAddress, {
                ...pairing,
                currSequenceNumber: sequenceNumber
            });
            return response.data.data.signingRequest;
        }, (err)=>{
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isAxiosError"])(err)) {
                const errorMessage = err.response?.data?.message;
                const expectedSequenceNumber = errorMessage?.match(SEQUENCE_NUMBER_MISMATCH_PATTERN)?.[1];
                if (expectedSequenceNumber !== void 0) {
                    sequenceNumber = Number(expectedSequenceNumber);
                    return;
                }
            }
            throw err;
        });
    }
    async getSigningRequest(id) {
        const response = await this.axiosInstance.get(`v1/signing-request/${id}/`, {
            validateStatus: (status)=>status === 200 || status === 404
        });
        return response.data?.data?.signingRequest;
    }
    async deletePairing(pairingId, secretKey, publicKey) {
        const requestEnvelope = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encryptAndSignEnvelope"])(secretKey, publicKey, publicKey, 0, // ignored
        {}, {});
        await this.axiosInstance.post(`v1/pairing/${pairingId}/delete/`, requestEnvelope, {
            validateStatus: (status)=>status === 204 || status === 404
        });
    }
    async cancelSigningRequest(pairing, id) {
        const sequenceNumber = pairing.currSequenceNumber;
        const dappEd25519SecretKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeBase64"])(pairing.dappEd25519SecretKeyB64);
        const dappEd25519PublicKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeBase64"])(pairing.dappEd25519PublicKeyB64);
        const accountTransportEd25519PublicKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeBase64"])(pairing.accountTransportEd25519PublicKeyB64);
        const requestEnvelope = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encryptAndSignEnvelope"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toKey"])(dappEd25519SecretKey, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyTypes"].Ed25519SecretKey), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toKey"])(dappEd25519PublicKey, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyTypes"].Ed25519PublicKey), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toKey"])(accountTransportEd25519PublicKey, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyTypes"].Ed25519PublicKey), sequenceNumber + 1, {}, {});
        const response = await this.axiosInstance.patch(`v1/signing-request/${id}/cancel/`, requestEnvelope);
        await this.accessors.update(pairing.accountAddress, {
            ...pairing,
            currSequenceNumber: sequenceNumber + 1
        });
        return response.data.data.signingRequest;
    }
    async signRequest(address, type, requestBody, { cancelToken, networkName } = {}) {
        await this.initPromise;
        const pairing = await this.accessors.get(address);
        if (pairing === void 0) {
            throw new Error("The requested account is not paired");
        }
        let signingRequest;
        try {
            signingRequest = await this.createSigningRequest(pairing, type, networkName || this.defaultNetworkName, requestBody);
            while(signingRequest.status === "PENDING"){
                await waitFor(SIGNING_REQUEST_POLLING_INTERVAL);
                if (cancelToken?.cancelled) {
                    signingRequest.status = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$identity$2d$connect$2f$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SigningRequestStatus"].CANCELLED;
                    break;
                }
                signingRequest = await this.getSigningRequest(signingRequest.id) ?? signingRequest;
            }
        } catch (err) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isAxiosError"])(err) && err.code === "404") {
                await this.accessors.update(address, void 0);
                for (const listener of this.onDisconnectListeners){
                    listener(address);
                }
                throw new PairingExpiredError();
            }
            throw err;
        }
        if (signingRequest.status !== "APPROVED") {
            throw new SignatureRequestError(signingRequest.status);
        }
        const decrypted = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decryptEnvelope"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toKey"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeBase64"])(pairing.accountTransportEd25519PublicKeyB64), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyTypes"].Ed25519PublicKey), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toKey"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeBase64"])(pairing.dappEd25519SecretKeyB64), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyTypes"].Ed25519SecretKey), signingRequest.responseEnvelope);
        return decrypted.privateMessage;
    }
    // region Public API
    /**
   * Requests a connection to an account (internally known as pairing).
   * @returns either the address of the connected account, or undefined if the
   * connection was cancelled.
   */ async addPairing({ publicKey, secretKey }, finalizedPairing) {
        await this.accessors.update(finalizedPairing.account.accountAddress, {
            accountAddress: finalizedPairing.account.accountAddress,
            accountAlias: finalizedPairing.account.userSubmittedAlias ?? void 0,
            accountPublicKeyB64: finalizedPairing.account.publicKeyB64,
            accountTransportEd25519PublicKeyB64: finalizedPairing.account.transportEd25519PublicKeyB64,
            currSequenceNumber: finalizedPairing.maxDappSequenceNumber,
            dappEd25519PublicKeyB64: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeBase64"])(publicKey.key),
            dappEd25519SecretKeyB64: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeBase64"])(secretKey.key),
            dappWalletId: finalizedPairing.dappSpecificWalletId,
            pairingId: finalizedPairing.id
        });
    }
    async disconnect(address) {
        const pairing = await this.accessors.get(address);
        if (pairing === void 0) {
            throw new Error("The specified account is not paired");
        }
        const dappEd25519SecretKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeBase64"])(pairing.dappEd25519SecretKeyB64);
        const dappEd25519PublicKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["decodeBase64"])(pairing.dappEd25519PublicKeyB64);
        await this.deletePairing(pairing.pairingId, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toKey"])(dappEd25519SecretKey, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyTypes"].Ed25519SecretKey), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toKey"])(dappEd25519PublicKey, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyTypes"].Ed25519PublicKey));
        await this.accessors.update(address, void 0);
        for (const listener of this.onDisconnectListeners){
            listener(address);
        }
    }
    async signMessage(address, args, options) {
        const response = await this.signRequest(address, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$identity$2d$connect$2f$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SigningRequestTypes"].SIGN_MESSAGE, args, options);
        validateSignMessageResponse(response);
        return response;
    }
    async signTransaction(address, args, options) {
        const serializedRequestArgs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$dapp$2d$sdk$2f$node_modules$2f40$identity$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeSignTransactionRequestArgs"])(args);
        const serializedResponseArgs = await this.signRequest(address, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$identity$2d$connect$2f$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SigningRequestTypes"].SIGN_TRANSACTION, serializedRequestArgs, options);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$dapp$2d$sdk$2f$node_modules$2f40$identity$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["deserializeSignTransactionResponseArgs"])(serializedResponseArgs);
    }
    // endregion
    async signAndSubmitTransaction(address, args, options) {
        const serializedRequestArgs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$dapp$2d$sdk$2f$node_modules$2f40$identity$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializeSignAndSubmitTransactionRequestArgs"])(args);
        try {
            const responseArgs = await this.signRequest(address, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$identity$2d$connect$2f$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SigningRequestTypes"].SIGN_AND_SUBMIT_TRANSACTION, serializedRequestArgs, options);
            validateSignAndSubmitTransactionResponse(responseArgs);
            return responseArgs;
        } catch (e) {
            if (e instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["AxiosError"] && e.response?.data?.message) {
                throw new Error(e.response?.data?.message);
            }
            throw e;
        }
    }
    async getConnectedAccounts() {
        await this.initPromise;
        const pairings = await this.accessors.getAll();
        return Object.values(pairings).map(({ accountAddress, accountEd25519PublicKeyB64, accountPublicKeyB64 })=>({
                address: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"].from(accountAddress),
                publicKey: accountPublicKeyB64 !== void 0 ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["deserializePublicKeyB64"])(accountPublicKeyB64) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["deserializeEd25519PublicKeyB64"])(accountEd25519PublicKeyB64)
            }));
    }
    onDisconnect(listener) {
        this.onDisconnectListeners.add(listener);
        return ()=>this.onDisconnectListeners.delete(listener);
    }
};
// src/ACDappClient.ts
var ACDappClient = class {
    constructor({ backendBaseURL, dappId, dappImageURI, dappName, defaultNetworkName = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$identity$2d$connect$2f$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NetworkName"].MAINNET, frontendBaseURL = DEFAULT_FRONTEND_URL, provider = "google", tgWebAppURL } = {}){
        this.defaultNetworkName = defaultNetworkName;
        this.dappInfo = {
            domain: window.location.origin,
            imageURI: dappImageURI,
            name: dappName ?? document.title
        };
        this.transport = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$dapp$2d$sdk$2f$node_modules$2f40$aptos$2d$connect$2f$web$2d$transport$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WebWalletTransport"](frontendBaseURL, provider, tgWebAppURL);
        this.dappId = dappId;
        this.pairingClient = new ACPairingClient({
            axiosConfig: {
                baseURL: backendBaseURL ?? frontendBaseURL
            },
            defaultNetworkName
        });
    }
    // region Public API
    async getKeylessAccounts() {
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GetConnectedAccountsRequest"].serialize(this.dappInfo);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GetConnectedAccountsResponse"].deserialize(serializedResponse);
        return response.args;
    }
    async getIcAccounts() {
        return this.pairingClient.getConnectedAccounts() ?? [];
    }
    async isIcAccount(address) {
        const icAccounts = await this.getIcAccounts();
        return icAccounts.find((account)=>account.address.equals(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"].from(address))) !== void 0;
    }
    async getConnectedAccounts() {
        const keylessAccounts = await this.getKeylessAccounts();
        const icAccounts = await this.getIcAccounts();
        return [
            ...keylessAccounts,
            ...icAccounts
        ];
    }
    async disconnect(address) {
        if (await this.isIcAccount(address)) {
            const stringAddress = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"].from(address).toString();
            await this.pairingClient.disconnect(stringAddress);
        } else {
            const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DisconnectRequest"].serialize(this.dappInfo);
            await this.transport.sendRequest(serializedRequest);
        }
    }
    async connect({ claimOptions, preferredWalletName } = {}) {
        const dappKeypair = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createEd25519KeyPair"])();
        const injectedPreferredWalletName = typeof window !== "undefined" ? window.AC_PREFERRED_WALLET_NAME : void 0;
        const requestArgs = {
            claimOptions,
            dappEd25519PublicKeyB64: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeBase64"])(dappKeypair.publicKey.key),
            dappId: this.dappId,
            preferredWalletName: preferredWalletName ?? injectedPreferredWalletName
        };
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ConnectRequest"].serialize(this.dappInfo, requestArgs);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ConnectResponse"].deserialize(serializedResponse);
        if (response.args.status === "approved") {
            const { account, pairing } = response.args.args;
            if (pairing) {
                await this.pairingClient.addPairing(dappKeypair, pairing);
            }
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["makeUserApproval"])({
                account
            });
        }
        return response.args;
    }
    async signIn(args) {
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignInRequest"].serialize(this.dappInfo, args);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignInResponse"].deserialize(serializedResponse, serializedRequest.version);
        return response.args;
    }
    async signMessage(args) {
        const { signerAddress } = args;
        if (await this.isIcAccount(signerAddress)) {
            const { chainId } = args;
            const network = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["chainIdToNetwork"])(chainId);
            let message;
            let nonce;
            try {
                message = new TextDecoder().decode(args.message);
                nonce = new TextDecoder().decode(args.nonce);
            } catch (err) {
                throw new Error("Only UTF-8 encoded text is supported when using IC");
            }
            const { fullMessage, signature: hexSignature } = await this.pairingClient.signMessage(signerAddress.toString(), {
                address: true,
                application: true,
                chainId: true,
                message,
                nonce
            }, {
                networkName: network
            });
            const signatureBytes = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$STY74NUA$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Hex$3e$__["Hex"].fromHexInput(hexSignature).toUint8Array();
            const signature = signatureBytes.length === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__d__as__Ed25519Signature$3e$__["Ed25519Signature"].LENGTH ? new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__d__as__Ed25519Signature$3e$__["Ed25519Signature"](signatureBytes) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__B__as__AnySignature$3e$__["AnySignature"].deserialize(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$FLZPUYXQ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__Deserializer$3e$__["Deserializer"](signatureBytes));
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["makeUserApproval"])({
                fullMessage,
                signature
            });
        }
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignMessageRequest"].serialize(this.dappInfo, args);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignMessageResponse"].deserialize(serializedResponse);
        return response.args;
    }
    async signTransaction(args) {
        const normalizedArgs = "transaction" in args ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignTransactionRequest"].normalizeArgs(args) : args;
        const { signerAddress } = args;
        if (await this.isIcAccount(signerAddress)) {
            const { expirationSecondsFromNow, expirationTimestamp, feePayer, gasUnitPrice, maxGasAmount, network, payload, secondarySigners, sender, sequenceNumber } = normalizedArgs;
            if (feePayer !== void 0) {
                throw new Error("Sponsored transaction not currently supported");
            }
            if (secondarySigners && secondarySigners.length > 0) {
                throw new Error("Multi-agent transactions not currently supported");
            }
            if (!("bcsToBytes" in payload)) {
                throw new Error("Payload input format is only supported with Keyless accounts.");
            }
            const responseArgs = await this.pairingClient.signTransaction(signerAddress.toString(), {
                options: {
                    expirationSecondsFromNow,
                    expirationTimestamp,
                    gasUnitPrice,
                    maxGasAmount,
                    sender: sender?.address.toString(),
                    sequenceNumber: sequenceNumber !== void 0 ? Number(sequenceNumber) : void 0
                },
                payload
            }, {
                networkName: network
            });
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["makeUserApproval"])({
                authenticator: responseArgs.accountAuthenticator,
                rawTransaction: responseArgs.rawTxn
            });
        }
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignTransactionRequest"].serialize(this.dappInfo, normalizedArgs);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignTransactionResponse"].deserialize(serializedResponse);
        return response.args;
    }
    async signAndSubmitTransaction(args) {
        const { signerAddress } = args;
        if (await this.isIcAccount(signerAddress)) {
            const { expirationTimestamp, feePayer, gasUnitPrice, maxGasAmount, network } = args;
            const aptosConfig = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$Y7ZQTLH4$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosConfig$3e$__["AptosConfig"]({
                network
            });
            let convertedArgs;
            if (feePayer !== void 0) {
                const payload = await normalizePayloadForIC(args.payload, aptosConfig);
                const rawTxn = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Nb__as__generateRawTransaction$3e$__["generateRawTransaction"])({
                    aptosConfig,
                    feePayerAddress: feePayer.address,
                    options: {
                        gasUnitPrice,
                        maxGasAmount
                    },
                    payload,
                    sender: signerAddress
                });
                convertedArgs = {
                    feePayerAuthenticator: feePayer.authenticator,
                    rawTxn: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Ca__as__FeePayerRawTransaction$3e$__["FeePayerRawTransaction"](rawTxn, [], feePayer.address)
                };
            } else {
                const payload = normalizePayloadForIC(args.payload);
                convertedArgs = {
                    options: {
                        expirationTimestamp,
                        gasUnitPrice,
                        maxGasAmount
                    },
                    payload
                };
            }
            const { hash } = await this.pairingClient.signAndSubmitTransaction(signerAddress.toString(), convertedArgs, {
                networkName: network
            });
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["makeUserApproval"])({
                txnHash: hash
            });
        }
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignAndSubmitTransactionRequest"].serialize(this.dappInfo, args);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignAndSubmitTransactionResponse"].deserialize(serializedResponse);
        return response.args;
    }
};
;
;
// src/prompt.ts
var DEFAULT_PROMPT_SIZE = {
    height: 695,
    width: 465
};
var PROMPT_POLLER_INTERVAL = 500;
function openPrompt(url, size = DEFAULT_PROMPT_SIZE) {
    const { height, width } = size;
    const options = {
        height,
        left: window.screenLeft + Math.round((window.outerWidth - width) / 2),
        popup: true,
        top: window.screenTop + Math.round((window.outerHeight - height) / 2),
        width
    };
    const strOptions = Object.entries(options).map(([key, value])=>`${key}=${JSON.stringify(value)}`).reduce((acc, entry)=>`${acc}, ${entry}`);
    const href = url instanceof URL ? url.href : url;
    const promptWindow = window.open(href, void 0, strOptions);
    if (promptWindow === null) {
        throw new Error("Couldn't open prompt");
    }
    return promptWindow;
}
async function waitForPromptResponse(promptWindow) {
    return new Promise((resolve)=>{
        const listeners = {
            onMessage: (message)=>{
                if (message.source !== promptWindow) {
                    return;
                }
                window.removeEventListener("message", listeners.onMessage);
                clearTimeout(listeners.promptPollerId);
                resolve({
                    args: message.data,
                    status: "approved"
                });
            },
            promptPollerId: setInterval(()=>{
                if (promptWindow.closed) {
                    window.removeEventListener("message", listeners.onMessage);
                    clearTimeout(listeners.promptPollerId);
                    resolve({
                        status: "dismissed"
                    });
                }
            }, PROMPT_POLLER_INTERVAL)
        };
        window.addEventListener("message", listeners.onMessage);
    });
}
// src/ICDappClient.ts
var ICDappClient = class extends ACPairingClient {
    constructor(dappId, { frontendBaseURL = DEFAULT_FRONTEND_URL, ...pairingClientConfig } = {}){
        super(pairingClientConfig);
        this.dappId = dappId;
        this.frontendBaseURL = frontendBaseURL;
    }
    async createPairingRequest(dappEd25519PublicKeyB64) {
        try {
            const response = await this.axiosInstance.post("v1/pairing/", {
                dappEd25519PublicKeyB64,
                dappId: this.dappId
            });
            return response.data.data.pairing;
        } catch (err) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isAxiosError"])(err) && err.response?.data?.message === "Dapp not found") {
                throw new UnregisteredDappError();
            }
            throw err;
        }
    }
    // region Public API
    /**
   * Requests a connection to an account (internally known as pairing).
   * @returns either the address of the connected account, or undefined if the
   * connection was cancelled.
   */ async connect() {
        const { publicKey, secretKey } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createEd25519KeyPair"])();
        const dappEd25519PublicKeyB64 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeBase64"])(publicKey.key);
        const url = new URL(`${this.frontendBaseURL}/pairing`);
        const promptWindow = await openPrompt(url.href);
        let pairingId;
        try {
            const pendingPairing = await this.createPairingRequest(dappEd25519PublicKeyB64);
            pairingId = pendingPairing.id;
        } catch (err) {
            promptWindow.close();
            throw err;
        }
        url.searchParams.set("pairingId", pairingId);
        promptWindow.location.href = url.href;
        const promptResponse = await waitForPromptResponse(promptWindow);
        if (promptResponse.status === "dismissed") {
            void this.deletePairing(pairingId, secretKey, publicKey);
            return void 0;
        }
        const finalizedPairing = promptResponse.args;
        await this.addPairing({
            publicKey,
            secretKey
        }, finalizedPairing);
        return finalizedPairing.account.accountAddress;
    }
    async offboard(address) {
        const pairing = await this.accessors.get(address);
        if (pairing === void 0) {
            throw new Error("This account is not paired");
        }
        const walletId = pairing.dappWalletId;
        if (walletId === void 0) {
            throw new Error("This account cannot be offboarded");
        }
        const url = new URL(`${this.frontendBaseURL}/offboarding?walletId=${walletId}`);
        const promptWindow = openPrompt(url);
        const response = await waitForPromptResponse(promptWindow);
        if (response.status === "approved" && response.args.offboarded) {
            this.disconnect(address);
            return true;
        }
        return false;
    }
};
;
;
;
var ACKeylessClient = class {
    constructor({ dappImageURI, dappName, defaultNetworkName = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$identity$2d$connect$2f$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NetworkName"].MAINNET, frontendBaseURL = DEFAULT_FRONTEND_URL, provider = "google" } = {}){
        this.defaultNetworkName = defaultNetworkName;
        this.dappInfo = {
            domain: window.location.origin,
            imageURI: dappImageURI,
            name: dappName ?? document.title
        };
        this.transport = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$dapp$2d$sdk$2f$node_modules$2f40$aptos$2d$connect$2f$web$2d$transport$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WebWalletTransport"](frontendBaseURL, provider);
    }
    // region Public API
    async isConnected() {
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["IsConnectedRequest"].serialize(this.dappInfo);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["IsConnectedResponse"].deserialize(serializedResponse);
        return response.args;
    }
    async getConnectedAccounts() {
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GetConnectedAccountsRequest"].serialize(this.dappInfo);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GetConnectedAccountsResponse"].deserialize(serializedResponse);
        return response.args;
    }
    async disconnect() {
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DisconnectRequest"].serialize(this.dappInfo);
        await this.transport.sendRequest(serializedRequest);
    }
    async connect() {
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ConnectRequest"].serialize(this.dappInfo);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ConnectResponse"].deserialize(serializedResponse);
        return response.args;
    }
    async signMessage(args) {
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignMessageRequest"].serialize(this.dappInfo, args);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignMessageResponse"].deserialize(serializedResponse);
        return response.args;
    }
    async signTransaction(args) {
        const normalizedArgs = "transaction" in args ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignTransactionRequest"].normalizeArgs(args) : args;
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignTransactionRequest"].serialize(this.dappInfo, normalizedArgs);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignTransactionResponse"].deserialize(serializedResponse);
        return response.args;
    }
    async signAndSubmitTransaction(args) {
        const serializedRequest = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignAndSubmitTransactionRequest"].serialize(this.dappInfo, args);
        const serializedResponse = await this.transport.sendRequest(serializedRequest);
        const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$api$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SignAndSubmitTransactionResponse"].deserialize(serializedResponse);
        return response.args;
    }
};
;
 //# sourceMappingURL=index.mjs.map
}}),
"[project]/node_modules/@aptos-connect/wallet-adapter-plugin/dist/index.mjs [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "AptosConnectAccount": (()=>AptosConnectAccount),
    "AptosConnectAppleWallet": (()=>AptosConnectAppleWallet),
    "AptosConnectGoogleWallet": (()=>AptosConnectGoogleWallet),
    "AptosConnectWallet": (()=>AptosConnectWallet),
    "registerAptosConnect": (()=>registerAptosConnect)
});
// src/index.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/index.mjs [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/index.mjs [app-client] (ecmascript) <exports>");
// src/AptosConnectGoogleWallet.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$OYMA2PWW$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosConnectNamespace$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-OYMA2PWW.mjs [app-client] (ecmascript) <export a as AptosConnectNamespace>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$7KTK52MK$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosDisconnectNamespace$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-7KTK52MK.mjs [app-client] (ecmascript) <export a as AptosDisconnectNamespace>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$EKJ7Y4LP$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosGetAccountNamespace$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-EKJ7Y4LP.mjs [app-client] (ecmascript) <export a as AptosGetAccountNamespace>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$FTTDX4QF$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosGetNetworkNamespace$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-FTTDX4QF.mjs [app-client] (ecmascript) <export a as AptosGetNetworkNamespace>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$MNFE4AOY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosOnAccountChangeNamespace$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-MNFE4AOY.mjs [app-client] (ecmascript) <export a as AptosOnAccountChangeNamespace>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$MJDSOKP4$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosOnNetworkChangeNamespace$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-MJDSOKP4.mjs [app-client] (ecmascript) <export a as AptosOnNetworkChangeNamespace>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$PFWJQYHN$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignAndSubmitTransactionNamespace$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-PFWJQYHN.mjs [app-client] (ecmascript) <export a as AptosSignAndSubmitTransactionNamespace>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$MECB2PDY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignInNamespace$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-MECB2PDY.mjs [app-client] (ecmascript) <export a as AptosSignInNamespace>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$BIF2XL2R$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignMessageNamespace$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-BIF2XL2R.mjs [app-client] (ecmascript) <export a as AptosSignMessageNamespace>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$DIMEBT3E$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignTransactionNamespace$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-DIMEBT3E.mjs [app-client] (ecmascript) <export a as AptosSignTransactionNamespace>");
// src/AptosConnectWallet.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/index.mjs [app-client] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-RGKRCZ36.mjs [app-client] (ecmascript) <export b as AccountAddress>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__je__as__Aptos$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export je as Aptos>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$Y7ZQTLH4$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosConfig$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-Y7ZQTLH4.mjs [app-client] (ecmascript) <export a as AptosConfig>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__Ed25519PrivateKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-UQWF24SS.mjs [app-client] (ecmascript) <export c as Ed25519PrivateKey>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__La__as__MultiAgentTransaction$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export La as MultiAgentTransaction>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__f__as__Network$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-4RXKALLC.mjs [app-client] (ecmascript) <export f as Network>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__NetworkToNodeAPI$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-4RXKALLC.mjs [app-client] (ecmascript) <export b as NetworkToNodeAPI>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Ka__as__SimpleTransaction$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export Ka as SimpleTransaction>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$FFGPGN2W$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AccountInfo$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-FFGPGN2W.mjs [app-client] (ecmascript) <export a as AccountInfo>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$3XZSACFC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__e__as__APTOS_CHAINS$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-3XZSACFC.mjs [app-client] (ecmascript) <export e as APTOS_CHAINS>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$NKKS7QPJ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__AptosWalletError$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-NKKS7QPJ.mjs [app-client] (ecmascript) <export c as AptosWalletError>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$NKKS7QPJ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosWalletErrorCode$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-NKKS7QPJ.mjs [app-client] (ecmascript) <export a as AptosWalletErrorCode>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/wallet-standard/dist/esm/chunk-QHCUHEWC.mjs [app-client] (ecmascript) <export a as UserResponseStatus>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@identity-connect/crypto/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$dapp$2d$sdk$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@aptos-connect/wallet-adapter-plugin/node_modules/@identity-connect/dapp-sdk/dist/index.mjs [app-client] (ecmascript)");
// src/AptosConnectAccount.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__A__as__AnyPublicKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export A as AnyPublicKey>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Ed25519PublicKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-UQWF24SS.mjs [app-client] (ecmascript) <export b as Ed25519PublicKey>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__F__as__MultiEd25519PublicKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export F as MultiEd25519PublicKey>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__D__as__MultiKey$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-GXDOOLCG.mjs [app-client] (ecmascript) <export D as MultiKey>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-IJE2LVZG.mjs [app-client] (ecmascript) <export J as SigningScheme>");
// src/helpers.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__g__as__NetworkToChainId$3e$__ = __turbopack_context__.i("[project]/node_modules/@aptos-labs/ts-sdk/dist/esm/chunk-4RXKALLC.mjs [app-client] (ecmascript) <export g as NetworkToChainId>");
var __accessCheck = (obj, member, msg)=>{
    if (!member.has(obj)) throw TypeError("Cannot " + msg);
};
var __privateGet = (obj, member, getter)=>{
    __accessCheck(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
};
var __privateAdd = (obj, member, value)=>{
    if (member.has(obj)) throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
};
var __privateSet = (obj, member, value, setter)=>{
    __accessCheck(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
};
;
;
;
;
;
;
;
;
var _address, _publicKey;
var AptosConnectAccount = class {
    constructor({ address, ansName, publicKey }){
        // region AptosWalletAccount
        this.chains = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$3XZSACFC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__e__as__APTOS_CHAINS$3e$__["APTOS_CHAINS"];
        this.features = [];
        // endregion
        // region PetraAccount
        __privateAdd(this, _address, void 0);
        __privateAdd(this, _publicKey, void 0);
        __privateSet(this, _publicKey, publicKey);
        __privateSet(this, _address, address);
        this.label = ansName;
    }
    get address() {
        return __privateGet(this, _address).toString();
    }
    get publicKey() {
        return __privateGet(this, _publicKey).toUint8Array();
    }
    get signingScheme() {
        if (__privateGet(this, _publicKey) instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__Ed25519PublicKey$3e$__["Ed25519PublicKey"]) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].Ed25519;
        }
        if (__privateGet(this, _publicKey) instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__F__as__MultiEd25519PublicKey$3e$__["MultiEd25519PublicKey"]) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].MultiEd25519;
        }
        if (__privateGet(this, _publicKey) instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__A__as__AnyPublicKey$3e$__["AnyPublicKey"]) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].SingleKey;
        }
        if (__privateGet(this, _publicKey) instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__D__as__MultiKey$3e$__["MultiKey"]) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$IJE2LVZG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__J__as__SigningScheme$3e$__["SigningScheme"].MultiKey;
        }
        throw new Error("Unsupported public key type");
    }
};
_address = new WeakMap();
_publicKey = new WeakMap();
;
;
function customAccountToStandardAccount({ address, name, publicKey }) {
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$FFGPGN2W$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AccountInfo$3e$__["AccountInfo"]({
        address,
        ansName: name,
        publicKey
    });
}
function unwrapUserResponse(response, callback) {
    if (response.status === "dismissed") {
        return {
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__["UserResponseStatus"].REJECTED
        };
    }
    return {
        args: callback(response.args),
        status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__["UserResponseStatus"].APPROVED
    };
}
function networkToChainId(network) {
    switch(network){
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__f__as__Network$3e$__["Network"].MAINNET:
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__g__as__NetworkToChainId$3e$__["NetworkToChainId"].mainnet;
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__f__as__Network$3e$__["Network"].TESTNET:
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__g__as__NetworkToChainId$3e$__["NetworkToChainId"].testnet;
        default:
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__g__as__NetworkToChainId$3e$__["NetworkToChainId"].devnet;
    }
}
// src/AptosConnectWallet.ts
var _AptosConnectWallet = class _AptosConnectWallet {
    constructor({ claimSecretKey, network = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__f__as__Network$3e$__["Network"].MAINNET, preferredWalletName, ...clientConfig }){
        // endregion
        // region AptosWallet
        this.version = "1.0.0";
        this.chains = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$3XZSACFC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__e__as__APTOS_CHAINS$3e$__["APTOS_CHAINS"];
        this.client = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$dapp$2d$sdk$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ACDappClient"](clientConfig);
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__NetworkToNodeAPI$3e$__["NetworkToNodeAPI"][network]) {
            throw new Error("Network not supported");
        }
        const aptosConfig = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$Y7ZQTLH4$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosConfig$3e$__["AptosConfig"]({
            network
        });
        this.aptosClient = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__je__as__Aptos$3e$__["Aptos"](aptosConfig);
        this.preferredWalletName = preferredWalletName;
        this.claimOptions = claimSecretKey ? {
            network,
            secretKey: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$UQWF24SS$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__Ed25519PrivateKey$3e$__["Ed25519PrivateKey"](claimSecretKey)
        } : void 0;
    }
    static get connectedAccount() {
        const serialized = localStorage.getItem(_AptosConnectWallet.connectedAccountStorageKey);
        if (!serialized) {
            return void 0;
        }
        try {
            const { address, publicKey } = JSON.parse(serialized);
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$FFGPGN2W$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AccountInfo$3e$__["AccountInfo"]({
                address: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$RGKRCZ36$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__AccountAddress$3e$__["AccountAddress"].from(address),
                publicKey: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["deserializePublicKeyB64"])(publicKey)
            });
        } catch (err) {
            console.warn("Inconsistent state, resetting it");
            this.connectedAccount = void 0;
            return void 0;
        }
    }
    static set connectedAccount(value) {
        if (value !== void 0) {
            const serialized = {
                address: value.address.toString(),
                publicKey: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$connect$2f$wallet$2d$adapter$2d$plugin$2f$node_modules$2f40$identity$2d$connect$2f$crypto$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["serializePublicKeyB64"])(value.publicKey)
            };
            localStorage.setItem(_AptosConnectWallet.connectedAccountStorageKey, JSON.stringify(serialized));
        } else {
            localStorage.removeItem(_AptosConnectWallet.connectedAccountStorageKey);
        }
    }
    // eslint-disable-next-line class-methods-use-this
    get accounts() {
        const { connectedAccount } = _AptosConnectWallet;
        return connectedAccount ? [
            new AptosConnectAccount(connectedAccount)
        ] : [];
    }
    async connect() {
        const { connectedAccount } = _AptosConnectWallet;
        if (connectedAccount !== void 0) {
            return {
                args: connectedAccount,
                status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__["UserResponseStatus"].APPROVED
            };
        }
        const response = await this.client.connect({
            claimOptions: this.claimOptions,
            preferredWalletName: this.preferredWalletName
        });
        if (response.status === "dismissed") {
            return {
                status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__["UserResponseStatus"].REJECTED
            };
        }
        const newConnectedAccount = customAccountToStandardAccount(response.args.account);
        _AptosConnectWallet.connectedAccount = newConnectedAccount;
        return {
            args: newConnectedAccount,
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__["UserResponseStatus"].APPROVED
        };
    }
    async disconnect() {
        const { connectedAccount } = _AptosConnectWallet;
        if (connectedAccount) {
            await this.client.disconnect(connectedAccount.address);
            _AptosConnectWallet.connectedAccount = void 0;
        }
    }
    async signIn(input) {
        const response = await this.client.signIn({
            network: this.aptosClient.config.network,
            ...input
        });
        if (response.status === "dismissed") {
            return {
                status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__["UserResponseStatus"].REJECTED
            };
        }
        const output = response.args;
        _AptosConnectWallet.connectedAccount = output.account;
        return {
            args: output,
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__["UserResponseStatus"].APPROVED
        };
    }
    // eslint-disable-next-line class-methods-use-this
    async getAccount() {
        const { connectedAccount } = _AptosConnectWallet;
        if (!connectedAccount) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$NKKS7QPJ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__AptosWalletError$3e$__["AptosWalletError"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$NKKS7QPJ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosWalletErrorCode$3e$__["AptosWalletErrorCode"].Unauthorized);
        }
        return customAccountToStandardAccount(connectedAccount);
    }
    async getNetwork() {
        const { network } = this.aptosClient.config;
        const chainId = await this.aptosClient.getChainId();
        const url = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$4RXKALLC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__b__as__NetworkToNodeAPI$3e$__["NetworkToNodeAPI"][network];
        return {
            chainId,
            name: network,
            url
        };
    }
    async signMessage(input) {
        const { connectedAccount } = _AptosConnectWallet;
        if (!connectedAccount) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$NKKS7QPJ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__AptosWalletError$3e$__["AptosWalletError"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$NKKS7QPJ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosWalletErrorCode$3e$__["AptosWalletErrorCode"].Unauthorized);
        }
        const chainId = networkToChainId(this.aptosClient.config.network);
        const { message, nonce } = input;
        const encoder = new TextEncoder();
        const messageBytes = encoder.encode(message);
        const nonceBytes = encoder.encode(nonce);
        const response = await this.client.signMessage({
            chainId,
            message: messageBytes,
            nonce: nonceBytes,
            signerAddress: connectedAccount.address
        });
        if (response.status === "dismissed") {
            return {
                status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__["UserResponseStatus"].REJECTED
            };
        }
        const { fullMessage, signature } = response.args;
        const extraResponseArgs = {
            address: connectedAccount.address.toString(),
            application: this.client.dappInfo.domain,
            chainId,
            message,
            nonce,
            prefix: "APTOS"
        };
        return {
            args: {
                fullMessage,
                signature,
                ...extraResponseArgs
            },
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__["UserResponseStatus"].APPROVED
        };
    }
    async signTransaction(txnOrArgs, _asFeePayer) {
        const { connectedAccount } = _AptosConnectWallet;
        if (!connectedAccount) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$NKKS7QPJ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__AptosWalletError$3e$__["AptosWalletError"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$NKKS7QPJ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosWalletErrorCode$3e$__["AptosWalletErrorCode"].Unauthorized);
        }
        if ("bcsToBytes" in txnOrArgs) {
            const transaction = txnOrArgs;
            const feePayer = transaction.feePayerAddress ? {
                address: transaction.feePayerAddress
            } : void 0;
            const secondarySigners = transaction.secondarySignerAddresses?.map((address)=>({
                    address
                }));
            const response2 = await this.client.signTransaction({
                feePayer,
                secondarySigners,
                signerAddress: connectedAccount.address,
                transaction: transaction.rawTransaction
            });
            return unwrapUserResponse(response2, (args)=>args.authenticator);
        }
        const requestArgs = txnOrArgs;
        const response = await this.client.signTransaction({
            ...requestArgs,
            signerAddress: connectedAccount.address
        });
        return unwrapUserResponse(response, (responseArgs)=>{
            const { authenticator, rawTransaction } = responseArgs;
            if (!rawTransaction) {
                throw new Error("Expected raw transaction in response args");
            }
            const secondarySigners = requestArgs.secondarySigners ?? [];
            let transaction;
            if (secondarySigners.length > 0) {
                transaction = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__La__as__MultiAgentTransaction$3e$__["MultiAgentTransaction"](rawTransaction, secondarySigners.map((s)=>s.address), requestArgs.feePayer?.address);
            } else {
                transaction = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$ts$2d$sdk$2f$dist$2f$esm$2f$chunk$2d$GXDOOLCG$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Ka__as__SimpleTransaction$3e$__["SimpleTransaction"](rawTransaction, requestArgs.feePayer?.address);
            }
            return {
                authenticator,
                rawTransaction: transaction
            };
        });
    }
    async signAndSubmitTransaction(args) {
        const { gasUnitPrice, maxGasAmount, payload } = args;
        const { connectedAccount } = _AptosConnectWallet;
        if (!connectedAccount) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$NKKS7QPJ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__c__as__AptosWalletError$3e$__["AptosWalletError"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$NKKS7QPJ$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosWalletErrorCode$3e$__["AptosWalletErrorCode"].Unauthorized);
        }
        const response = await this.client.signAndSubmitTransaction({
            gasUnitPrice,
            maxGasAmount,
            network: this.aptosClient.config.network,
            payload,
            signerAddress: connectedAccount.address
        });
        if (response.status === "dismissed") {
            return {
                status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__["UserResponseStatus"].REJECTED
            };
        }
        return {
            args: {
                hash: response.args.txnHash
            },
            status: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$QHCUHEWC$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__UserResponseStatus$3e$__["UserResponseStatus"].APPROVED
        };
    }
    // eslint-disable-next-line class-methods-use-this
    async onAccountChange(_callback) {}
    // eslint-disable-next-line class-methods-use-this
    async onNetworkChange(_callback) {}
};
// region connectedAccount
_AptosConnectWallet.connectedAccountStorageKey = "@aptos-connect/connectedAccount";
var AptosConnectWallet = _AptosConnectWallet;
// src/config.ts
var walletMetadata = {
    apple: {
        icon: // eslint-disable-next-line max-len
        "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxzdHlsZT4KICAgICAgICBwYXRoIHsKICAgICAgICAgICAgZmlsbDogYmxhY2s7CiAgICAgICAgfQoKICAgICAgICBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7CiAgICAgICAgICAgIHBhdGggewogICAgICAgICAgICAgICAgZmlsbDogd2hpdGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICA8L3N0eWxlPgogICAgPHBhdGgKICAgICAgICBkPSJNMjAuMzkzMiA4LjE4MjQyQzIwLjI1NzggOC4yOTA0MyAxNy44NjggOS42NzUzNyAxNy44NjggMTIuNzU0OUMxNy44NjggMTYuMzE2OCAyMC45MDkgMTcuNTc3IDIxIDE3LjYwODJDMjAuOTg2IDE3LjY4NSAyMC41MTY5IDE5LjMzMzkgMTkuMzk2NiAyMS4wMTQxQzE4LjM5NzcgMjIuNDkyNiAxNy4zNTQ1IDIzLjk2ODggMTUuNzY3NSAyMy45Njg4QzE0LjE4MDQgMjMuOTY4OCAxMy43NzIgMjMuMDIwNyAxMS45Mzk5IDIzLjAyMDdDMTAuMTU0NSAyMy4wMjA3IDkuNTE5NzIgMjQgOC4wNjgwNSAyNEM2LjYxNjM5IDI0IDUuNjAzNDkgMjIuNjMxOSA0LjQzODg5IDIwLjk1MTdDMy4wODk5MiAxOC45Nzg3IDIgMTUuOTEzNiAyIDEzLjAwNDVDMiA4LjMzODQzIDQuOTUwMDEgNS44NjM3OSA3Ljg1MzM0IDUuODYzNzlDOS4zOTYwMiA1Ljg2Mzc5IDEwLjY4MiA2LjkwNTQ5IDExLjY1MDUgNi45MDU0OUMxMi41NzI0IDYuOTA1NDkgMTQuMDEwMSA1LjgwMTM4IDE1Ljc2NTEgNS44MDEzOEMxNi40MzAzIDUuODAxMzggMTguODIwMiA1Ljg2Mzc5IDIwLjM5MzIgOC4xODI0MlpNMTQuOTMxOSAzLjgyNTk4QzE1LjY1NzggMi45NDAyOSAxNi4xNzEyIDEuNzExMzcgMTYuMTcxMiAwLjQ4MjQ0OEMxNi4xNzEyIDAuMzEyMDMxIDE2LjE1NzIgMC4xMzkyMTQgMTYuMTI2OSAwQzE0Ljk0NiAwLjA0NTYwNDYgMTMuNTQxIDAuODA4ODgxIDEyLjY5MzggMS44MTkzOEMxMi4wMjg2IDIuNTk3MDYgMTEuNDA3OCAzLjgyNTk4IDExLjQwNzggNS4wNzE3MUMxMS40MDc4IDUuMjU4OTMgMTEuNDM4MiA1LjQ0NjE0IDExLjQ1MjIgNS41MDYxNUMxMS41MjY4IDUuNTIwNTUgMTEuNjQ4MiA1LjUzNzM1IDExLjc2OTYgNS41MzczNUMxMi44MjkxIDUuNTM3MzUgMTQuMTYxOCA0LjgwNzY4IDE0LjkzMTkgMy44MjU5OFoiIC8+Cjwvc3ZnPg==",
        name: "Continue with Apple",
        url: "https://aptosconnect.app"
    },
    google: {
        icon: // eslint-disable-next-line max-len
        "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0iaF8yMCB3XzIwIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIzLjU0IDEyLjc2MTNDMjMuNTQgMTEuOTQ1OSAyMy40NjY4IDExLjE2MTggMjMuMzMwOSAxMC40MDkxSDEyLjVWMTQuODU3NUgxOC42ODkxQzE4LjQyMjUgMTYuMjk1IDE3LjYxMjMgMTcuNTEyOSAxNi4zOTQzIDE4LjMyODRWMjEuMjEzOEgyMC4xMTA5QzIyLjI4NTUgMTkuMjExOCAyMy41NCAxNi4yNjM2IDIzLjU0IDEyLjc2MTNaIiBmaWxsPSIjNDI4NUY0Ij48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi40OTk1IDIzLjk5OThDMTUuNjA0NSAyMy45OTk4IDE4LjIwNzcgMjIuOTcgMjAuMTEwNCAyMS4yMTM3TDE2LjM5MzggMTguMzI4MkMxNS4zNjQgMTkuMDE4MiAxNC4wNDY3IDE5LjQyNTkgMTIuNDk5NSAxOS40MjU5QzkuNTA0MjUgMTkuNDI1OSA2Ljk2OTAyIDE3LjQwMyA2LjA2NDcgMTQuNjg0OEgyLjIyMjY2VjE3LjY2NDRDNC4xMTQ5MyAyMS40MjI4IDguMDA0MDIgMjMuOTk5OCAxMi40OTk1IDIzLjk5OThaIiBmaWxsPSIjMzRBODUzIj48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA2NTIzIDE0LjY4NTFDNS44MzUyMyAxMy45OTUxIDUuNzA0NTUgMTMuMjU4MSA1LjcwNDU1IDEyLjUwMDFDNS43MDQ1NSAxMS43NDIyIDUuODM1MjMgMTEuMDA1MSA2LjA2NTIzIDEwLjMxNTFWNy4zMzU1N0gyLjIyMzE4QzEuNDQ0MzIgOC44ODgwNyAxIDEwLjY0NDQgMSAxMi41MDAxQzEgMTQuMzU1OCAxLjQ0NDMyIDE2LjExMjIgMi4yMjMxOCAxNy42NjQ3TDYuMDY1MjMgMTQuNjg1MVoiIGZpbGw9IiNGQkJDMDUiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjQ5OTUgNS41NzM4NkMxNC4xODc5IDUuNTczODYgMTUuNzAzOCA2LjE1NDA5IDE2Ljg5NTYgNy4yOTM2NEwyMC4xOTQgMy45OTUyM0MxOC4yMDI0IDIuMTM5NTUgMTUuNTk5MiAxIDEyLjQ5OTUgMUM4LjAwNDAyIDEgNC4xMTQ5MyAzLjU3NzA1IDIuMjIyNjYgNy4zMzU0NUw2LjA2NDcgMTAuMzE1QzYuOTY5MDIgNy41OTY4MiA5LjUwNDI1IDUuNTczODYgMTIuNDk5NSA1LjU3Mzg2WiIgZmlsbD0iI0VBNDMzNSI+PC9wYXRoPjwvc3ZnPg==",
        name: "Continue with Google",
        url: "https://aptosconnect.app"
    }
};
// src/AptosConnectGoogleWallet.ts
var AptosConnectGoogleWallet = class extends AptosConnectWallet {
    constructor(config){
        super({
            ...config,
            provider: "google"
        });
        this.name = walletMetadata.google.name;
        this.icon = walletMetadata.google.icon;
        this.url = walletMetadata.google.url;
    }
    // region AptosWallet
    get features() {
        return {
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$OYMA2PWW$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosConnectNamespace$3e$__["AptosConnectNamespace"]]: {
                connect: this.connect.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$7KTK52MK$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosDisconnectNamespace$3e$__["AptosDisconnectNamespace"]]: {
                disconnect: this.disconnect.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$EKJ7Y4LP$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosGetAccountNamespace$3e$__["AptosGetAccountNamespace"]]: {
                account: this.getAccount.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$FTTDX4QF$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosGetNetworkNamespace$3e$__["AptosGetNetworkNamespace"]]: {
                network: this.getNetwork.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$MNFE4AOY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosOnAccountChangeNamespace$3e$__["AptosOnAccountChangeNamespace"]]: {
                onAccountChange: this.onAccountChange.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$MJDSOKP4$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosOnNetworkChangeNamespace$3e$__["AptosOnNetworkChangeNamespace"]]: {
                onNetworkChange: this.onNetworkChange.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$PFWJQYHN$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignAndSubmitTransactionNamespace$3e$__["AptosSignAndSubmitTransactionNamespace"]]: {
                signAndSubmitTransaction: this.signAndSubmitTransaction.bind(this),
                version: "1.1.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$MECB2PDY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignInNamespace$3e$__["AptosSignInNamespace"]]: {
                signIn: this.signIn.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$BIF2XL2R$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignMessageNamespace$3e$__["AptosSignMessageNamespace"]]: {
                signMessage: this.signMessage.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$DIMEBT3E$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignTransactionNamespace$3e$__["AptosSignTransactionNamespace"]]: {
                signTransaction: this.signTransaction.bind(this),
                version: "1.1"
            }
        };
    }
};
;
var AptosConnectAppleWallet = class extends AptosConnectWallet {
    constructor(config){
        super({
            ...config,
            provider: "apple"
        });
        this.name = walletMetadata.apple.name;
        this.icon = walletMetadata.apple.icon;
        this.url = walletMetadata.apple.url;
    }
    // region AptosWallet
    get features() {
        return {
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$OYMA2PWW$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosConnectNamespace$3e$__["AptosConnectNamespace"]]: {
                connect: this.connect.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$7KTK52MK$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosDisconnectNamespace$3e$__["AptosDisconnectNamespace"]]: {
                disconnect: this.disconnect.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$EKJ7Y4LP$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosGetAccountNamespace$3e$__["AptosGetAccountNamespace"]]: {
                account: this.getAccount.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$FTTDX4QF$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosGetNetworkNamespace$3e$__["AptosGetNetworkNamespace"]]: {
                network: this.getNetwork.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$MNFE4AOY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosOnAccountChangeNamespace$3e$__["AptosOnAccountChangeNamespace"]]: {
                onAccountChange: this.onAccountChange.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$MJDSOKP4$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosOnNetworkChangeNamespace$3e$__["AptosOnNetworkChangeNamespace"]]: {
                onNetworkChange: this.onNetworkChange.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$PFWJQYHN$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignAndSubmitTransactionNamespace$3e$__["AptosSignAndSubmitTransactionNamespace"]]: {
                signAndSubmitTransaction: this.signAndSubmitTransaction.bind(this),
                version: "1.1.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$MECB2PDY$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignInNamespace$3e$__["AptosSignInNamespace"]]: {
                signIn: this.signIn.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$BIF2XL2R$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignMessageNamespace$3e$__["AptosSignMessageNamespace"]]: {
                signMessage: this.signMessage.bind(this),
                version: "1.0.0"
            },
            [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$chunk$2d$DIMEBT3E$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__a__as__AptosSignTransactionNamespace$3e$__["AptosSignTransactionNamespace"]]: {
                signTransaction: this.signTransaction.bind(this),
                version: "1.1"
            }
        };
    }
};
// src/index.ts
function registerAptosConnect(config = {}) {
    const googleWalletPlugin = new AptosConnectGoogleWallet(config);
    const appleWalletPlugin = new AptosConnectAppleWallet(config);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["registerWallet"])(googleWalletPlugin);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$aptos$2d$labs$2f$wallet$2d$standard$2f$dist$2f$esm$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$exports$3e$__["registerWallet"])(appleWalletPlugin);
}
;
 //# sourceMappingURL=index.mjs.map
}}),
}]);

//# sourceMappingURL=node_modules_%40aptos-connect_wallet-adapter-plugin_3ba978e5._.js.map